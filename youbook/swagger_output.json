{
  "openapi": "3.0.0",
  "info": {
    "version": "1.0.0",
    "title": "유북 API 명세서",
    "description": "Node.js Swaager swagger-jsdoc 방식 RestFul API 클라이언트 UI"
  },
  "servers": [
    {
      "url": "http://localhost:5000"
    }
  ],
  "paths": {
    "/write_process/chatbot2": {
      "post": {
        "summary": "내용 추가시 (자서전 수정, 임시 저장 자서전 작성시), 챗봇으로 추가할 때 사용자 입력을 임시로 저장함",
        "tags": [
          "Autobiography_ADD"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "입력할 내용"
                  },
                  "bookId": {
                    "type": "string",
                    "description": "책 ID (선택 사항, 기본값은 새 UUID)"
                  },
                  "category": {
                    "type": "string",
                    "description": "카테고리"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "성공적으로 데이터가 저장됨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer"
                    },
                    "bookId": {
                      "type": "string"
                    },
                    "inputCount": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "입력된 내용이 없는 경우"
          },
          "500": {
            "description": "DB 오류 또는 서버 오류"
          }
        }
      }
    },
    "/write_process/book_reading2": {
      "post": {
        "summary": "내용 추가시 (자서전 수정, 임시 저장 자서전 작성시), 사용자 입력을 저장하고, 사용자 입력에 대한 AI 모델 응답을 반환받아 저장함",
        "tags": [
          "Autobiography_ADD"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "사용자 입력 내용"
                  },
                  "bookId": {
                    "type": "string",
                    "description": "책 ID (선택 사항, 기본값은 새 UUID)"
                  },
                  "category": {
                    "type": "string",
                    "description": "카테고리"
                  },
                  "isChatbot": {
                    "type": "boolean",
                    "description": "Chatbot으로부터 입력 여부"
                  },
                  "isChatbotPurified": {
                    "type": "boolean",
                    "description": "Chatbot에서 정제된 데이터 여부"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "입력 및 응답이 성공적으로 저장됨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer"
                    },
                    "bookId": {
                      "type": "string"
                    },
                    "inputCount": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "입력된 내용이 없는 경우"
          },
          "500": {
            "description": "DB 오류 또는 서버 오류"
          }
        }
      }
    },
    "/get_category": {
      "get": {
        "summary": "사용자의 카테고리 목록 가져오기",
        "tags": [
          "Category"
        ],
        "responses": {
          "200": {
            "description": "사용자의 카테고리 목록을 반환",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "categorys": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "로그인하지 않은 사용자"
          },
          "500": {
            "description": "서버 오류"
          }
        }
      }
    },
    "/update_category": {
      "post": {
        "summary": "문단의 카테고리를 업데이트",
        "tags": [
          "Content"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "현재 카테고리 이름"
                  },
                  "new_name": {
                    "type": "string",
                    "description": "변경할 새로운 카테고리 이름"
                  },
                  "bookId": {
                    "type": "string",
                    "description": "책 ID"
                  },
                  "inputCount": {
                    "type": "integer",
                    "description": "입력 횟수"
                  },
                  "content_order": {
                    "type": "integer",
                    "description": "업데이트할 레코드의 content_order"
                  },
                  "category": {
                    "type": "string",
                    "description": "새롭게 업데이트할 카테고리 내용"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "카테고리가 성공적으로 업데이트됨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "요청 데이터가 잘못됨"
          },
          "401": {
            "description": "로그인하지 않은 사용자"
          },
          "404": {
            "description": "해당하는 레코드가 없음"
          },
          "500": {
            "description": "서버 오류"
          }
        }
      }
    },
    "/delete_category": {
      "post": {
        "summary": "사용자의 카테고리 삭제",
        "tags": [
          "Category"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "삭제할 카테고리 이름"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "카테고리가 성공적으로 삭제됨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청"
          },
          "401": {
            "description": "로그인하지 않은 사용자"
          },
          "500": {
            "description": "서버 오류"
          }
        }
      }
    },
    "/add_category": {
      "post": {
        "summary": "새로운 카테고리 추가",
        "tags": [
          "Category"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "추가할 카테고리 이름"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "카테고리가 성공적으로 추가됨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청"
          },
          "401": {
            "description": "로그인하지 않은 사용자"
          },
          "500": {
            "description": "서버 오류"
          }
        }
      }
    },
    "/chatbot/initiate/{book_id}": {
      "post": {
        "summary": "사용자 초기 입력을 기반으로 첫 질문 생성",
        "tags": [
          "Chatbot"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "book_id",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "책 ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "initialInput": {
                    "type": "string",
                    "description": "사용자 초기 입력"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "첫 질문 생성 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "question": {
                      "type": "string",
                      "description": "생성된 첫 질문"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "서버 오류"
          }
        }
      }
    },
    "/chatbot/ask/{book_id}": {
      "post": {
        "summary": "이전 질문과 사용자 입력을 바탕으로 새로운 질문 생성",
        "tags": [
          "Chatbot"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "book_id",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "책 ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "userInput": {
                    "type": "string",
                    "description": "사용자의 입력"
                  },
                  "previousQuestion": {
                    "type": "string",
                    "description": "이전 질문"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "새로운 질문 생성 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "question": {
                      "type": "string",
                      "description": "생성된 새로운 질문"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "서버 오류"
          }
        }
      }
    },
    "/create-image": {
      "post": {
        "summary": "DALL-E 모델을 이용해 이미지 생성",
        "tags": [
          "DALL-E"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "prompt": {
                    "type": "string",
                    "description": "이미지 생성을 위한 텍스트 프롬프트"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "이미지가 성공적으로 생성되어 저장됨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "성공 메시지"
                    },
                    "path": {
                      "type": "string",
                      "description": "생성된 이미지의 파일 경로"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "요청 프롬프트가 없을 경우 발생"
          },
          "500": {
            "description": "이미지 생성 중 서버 오류 발생"
          }
        }
      }
    },
    "/delete_content": {
      "post": {
        "summary": "문단 삭제 또는 특정 필드 NULL로 업데이트",
        "tags": [
          "Content"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "bookId": {
                    "type": "string",
                    "description": "책 ID"
                  },
                  "inputCount": {
                    "type": "integer",
                    "description": "문단의 입력 횟수"
                  },
                  "content_order": {
                    "type": "integer",
                    "description": "삭제 또는 업데이트할 문단 순서"
                  },
                  "whatToChange": {
                    "type": "integer",
                    "description": "변경 사항 (1 = big_title NULL, 2 = small_title NULL, 3 = 문단 삭제)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "문단 삭제 또는 업데이트 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "성공 메시지"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "요청 데이터가 유효하지 않음"
          },
          "500": {
            "description": "데이터베이스 오류 또는 서버 오류"
          }
        }
      }
    },
    "/delete_image": {
      "post": {
        "summary": "특정 문단의 이미지 경로를 삭제 (NULL로 업데이트)",
        "tags": [
          "Image"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "bookId": {
                    "type": "string",
                    "description": "책 ID"
                  },
                  "inputCount": {
                    "type": "integer",
                    "description": "문단의 입력 횟수"
                  },
                  "content_order": {
                    "type": "integer",
                    "description": "삭제할 이미지의 문단 순서"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "이미지 경로가 성공적으로 삭제됨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "성공 메시지"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "요청 데이터가 유효하지 않음"
          },
          "500": {
            "description": "데이터베이스 오류 또는 서버 오류"
          }
        }
      }
    },
    "/delete_book_list": {
      "post": {
        "summary": "다수의 책 ID를 받아서 해당 책들을 삭제",
        "tags": [
          "Book"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "book_id": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "삭제할 책들의 ID 배열"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "선택한 책들이 성공적으로 삭제됨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "성공 메시지"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "요청 데이터가 유효하지 않음 (book_id가 배열이 아닌 경우)"
          },
          "404": {
            "description": "삭제할 책을 찾을 수 없음"
          },
          "500": {
            "description": "데이터베이스 오류 또는 서버 오류"
          }
        }
      }
    },
    "/get_books": {
      "get": {
        "summary": "사용자의 책 목록 가져오기",
        "tags": [
          "Book"
        ],
        "responses": {
          "200": {
            "description": "사용자의 책 목록을 반환",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "books": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "book_id": {
                            "type": "string",
                            "description": "책 ID"
                          },
                          "title": {
                            "type": "string",
                            "description": "책 제목"
                          },
                          "create_date": {
                            "type": "string",
                            "format": "date",
                            "description": "책 생성 날짜"
                          },
                          "image_path": {
                            "type": "string",
                            "description": "책 이미지 경로"
                          },
                          "category": {
                            "type": "string",
                            "description": "책 카테고리"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "로그인되지 않은 사용자"
          },
          "500": {
            "description": "데이터베이스 오류 또는 서버 오류"
          }
        }
      }
    },
    "/get_id": {
      "post": {
        "summary": "사용자 ID 정보 가져오기",
        "tags": [
          "User"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "사용자 이름"
                  },
                  "phoneNum": {
                    "type": "string",
                    "description": "사용자 전화번호"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "사용자 ID 반환",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "userId": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "입력 값 누락"
          },
          "500": {
            "description": "서버 오류"
          }
        }
      }
    },
    "/confirm_user": {
      "post": {
        "summary": "사용자 존재 여부 확인",
        "tags": [
          "User"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "userId": {
                    "type": "string",
                    "description": "사용자 ID"
                  },
                  "name": {
                    "type": "string",
                    "description": "사용자 이름"
                  },
                  "phoneNum": {
                    "type": "string",
                    "description": "사용자 전화번호"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "사용자 정보 반환",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "user": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "입력 값 누락"
          },
          "500": {
            "description": "서버 오류"
          }
        }
      }
    },
    "/reset_pw": {
      "post": {
        "summary": "사용자 비밀번호 재설정",
        "tags": [
          "User"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "userId": {
                    "type": "string",
                    "description": "사용자 ID"
                  },
                  "name": {
                    "type": "string",
                    "description": "사용자 이름"
                  },
                  "phoneNum": {
                    "type": "string",
                    "description": "사용자 전화번호"
                  },
                  "newPW": {
                    "type": "string",
                    "description": "새 비밀번호"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "비밀번호 재설정 성공 여부 반환",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "userId": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "입력 값 누락"
          },
          "500": {
            "description": "서버 오류"
          }
        }
      }
    },
    "/get_user_info": {
      "get": {
        "summary": "사용자 정보 가져오기",
        "tags": [
          "User"
        ],
        "responses": {
          "200": {
            "description": "사용자의 정보 반환",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "id": {
                      "type": "string",
                      "description": "사용자 ID"
                    },
                    "nickname": {
                      "type": "string",
                      "description": "사용자 이름"
                    },
                    "email": {
                      "type": "string",
                      "description": "사용자 이메일"
                    },
                    "phone_number": {
                      "type": "string",
                      "description": "사용자 전화번호"
                    },
                    "birth": {
                      "type": "string",
                      "format": "date",
                      "description": "사용자 생년월일"
                    },
                    "gender": {
                      "type": "string",
                      "description": "사용자 성별"
                    },
                    "imagePath": {
                      "type": "string",
                      "description": "사용자 이미지 경로"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "사용자를 찾을 수 없음"
          },
          "500": {
            "description": "서버 오류"
          }
        }
      }
    },
    "/get-initial-input/{bookId}/{userId}": {
      "get": {
        "summary": "특정 책과 사용자에 대한 초기 입력 가져오기",
        "tags": [
          "User"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "bookId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "책 ID"
          },
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "사용자 ID"
          }
        ],
        "responses": {
          "200": {
            "description": "초기 입력 내용을 반환",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "content": {
                      "type": "string",
                      "description": "초기 입력 내용"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "초기 입력을 찾을 수 없음"
          },
          "500": {
            "description": "서버 오류"
          }
        }
      }
    },
    "/modify_info": {
      "post": {
        "summary": "회원 정보 수정",
        "tags": [
          "User"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "사용자 ID"
                  },
                  "pw": {
                    "type": "string",
                    "description": "새로운 비밀번호"
                  },
                  "pw2": {
                    "type": "string",
                    "description": "비밀번호 확인"
                  },
                  "username": {
                    "type": "string",
                    "description": "사용자 이름"
                  },
                  "email": {
                    "type": "string",
                    "description": "사용자 이메일"
                  },
                  "phone_num": {
                    "type": "string",
                    "description": "사용자 전화번호"
                  },
                  "birth": {
                    "type": "string",
                    "format": "date",
                    "description": "생년월일"
                  },
                  "gender": {
                    "type": "string",
                    "description": "성별"
                  },
                  "profileImage": {
                    "type": "string",
                    "format": "binary",
                    "description": "프로필 이미지 파일"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "회원 정보가 성공적으로 수정됨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string",
                      "description": "성공 메시지"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 (입력된 정보가 부족하거나 유효하지 않음)"
          },
          "500": {
            "description": "서버 오류"
          }
        }
      }
    },
    "/print": {
      "post": {
        "summary": "책의 컨텐츠를 조회하고, `final_input` 테이블에 데이터를 정리하여 저장",
        "tags": [
          "Print"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "book_id": {
                    "type": "string",
                    "description": "책 ID"
                  },
                  "input_count": {
                    "type": "integer",
                    "description": "입력 횟수 (기본값 1)"
                  },
                  "content_order": {
                    "type": "integer",
                    "description": "컨텐츠 순서 (기본값 0)"
                  },
                  "category": {
                    "type": "string",
                    "description": "카테고리"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "컨텐츠가 성공적으로 조회되고 정리됨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "성공 메시지"
                    },
                    "bookId": {
                      "type": "string",
                      "description": "책 ID"
                    },
                    "userId": {
                      "type": "string",
                      "description": "사용자 ID"
                    },
                    "contentCount": {
                      "type": "integer",
                      "description": "컨텐츠 수"
                    },
                    "contentArray": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "title": {
                            "type": "string",
                            "description": "큰 제목 (존재하지 않으면 null)"
                          },
                          "subtitle": {
                            "type": "string",
                            "description": "소제목 (존재하지 않으면 null)"
                          },
                          "imageUrl": {
                            "type": "string",
                            "description": "이미지 경로 (존재하지 않으면 null)"
                          },
                          "paragraph": {
                            "type": "string",
                            "description": "문단 내용"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "지정된 조건에 맞는 컨텐츠를 찾을 수 없음"
          },
          "500": {
            "description": "서버 오류"
          }
        }
      }
    },
    "/recommend-title": {
      "post": {
        "summary": "OpenAI 모델을 이용하여 자서전 챕터의 소제목 추천",
        "tags": [
          "Title"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "챕터 내용"
                  },
                  "index": {
                    "type": "integer",
                    "description": "챕터의 순서"
                  },
                  "bookId": {
                    "type": "string",
                    "description": "책 ID"
                  },
                  "title": {
                    "type": "boolean",
                    "description": "true일 경우 big_title, false일 경우 small_title 업데이트"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "소제목이 성공적으로 업데이트됨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "recommendedTitle": {
                      "type": "string",
                      "description": "추천된 소제목"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "필수 데이터가 제공되지 않음"
          },
          "404": {
            "description": "해당 book_id와 index에 맞는 레코드가 없음"
          },
          "500": {
            "description": "서버 오류 또는 모델 응답 생성 중 오류"
          }
        }
      }
    },
    "/recreate": {
      "post": {
        "summary": "문단 내용을 openAI api 를 이용해 재구성하고 DB 업데이트",
        "tags": [
          "Content"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "재구성할 원본 콘텐츠"
                  },
                  "bookId": {
                    "type": "string",
                    "description": "책 ID"
                  },
                  "content_order": {
                    "type": "integer",
                    "description": "콘텐츠 순서"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "콘텐츠가 성공적으로 재구성되고 업데이트됨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "지정된 조건에 맞는 콘텐츠를 찾을 수 없음"
          },
          "500": {
            "description": "서버 오류 또는 콘텐츠 재구성 중 오류"
          }
        }
      }
    },
    "/semi-save": {
      "post": {
        "summary": "자서전 책 정보를 임시 저장하거나 기존의 임시저장 내역 업데이트",
        "tags": [
          "SemiSave"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "bookId": {
                    "type": "string",
                    "description": "책 ID"
                  },
                  "bookTitle": {
                    "type": "string",
                    "description": "책 제목 (기본값 \"제목없는 자서전\")"
                  },
                  "coverImg": {
                    "type": "string",
                    "description": "커버 이미지 경로"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "기존 레코드가 성공적으로 업데이트됨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "201": {
            "description": "새 레코드가 성공적으로 삽입됨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "서버 오류 또는 DB 오류"
          }
        }
      }
    },
    "/saved-articles": {
      "get": {
        "summary": "사용자의 모든 임시 저장된 자서전 책 정보 가져오기",
        "tags": [
          "SemiSave"
        ],
        "responses": {
          "200": {
            "description": "임시 저장된 자서전 목록을 반환",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer"
                    },
                    "articles": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "title": {
                            "type": "string",
                            "description": "자서전 제목"
                          },
                          "savedAt": {
                            "type": "string",
                            "description": "저장된 날짜와 시간"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "서버 오류 또는 DB 오류"
          }
        }
      }
    },
    "/chatbot/summary": {
      "post": {
        "summary": "초기 입력시 챗봇 대화 내용을 요약하여 데이터베이스에 저장",
        "tags": [
          "Chatbot"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "bookId": {
                    "type": "string",
                    "description": "책 ID"
                  },
                  "inputCount": {
                    "type": "integer",
                    "description": "입력 횟수"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "요약 내용이 성공적으로 데이터베이스에 저장됨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "content": {
                      "type": "string",
                      "description": "요약된 내용"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "서버 오류 또는 OpenAI 요청 오류"
          }
        }
      }
    },
    "/chatbot/summary2": {
      "post": {
        "summary": "추가 입력시 챗봇 대화 내용을 요약하여 최신 input_count와 함께 데이터베이스에 저장",
        "tags": [
          "Chatbot"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "bookId": {
                    "type": "string",
                    "description": "책 ID"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "요약 내용이 성공적으로 데이터베이스에 저장됨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "content": {
                      "type": "string",
                      "description": "요약된 내용"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "서버 오류 또는 OpenAI 요청 오류"
          }
        }
      }
    },
    "/update_content": {
      "post": {
        "summary": "문단의 특정 내용을 업데이트",
        "tags": [
          "Content"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "bookId": {
                    "type": "string",
                    "description": "책 ID"
                  },
                  "inputCount": {
                    "type": "integer",
                    "description": "입력 횟수"
                  },
                  "content_order": {
                    "type": "integer",
                    "description": "업데이트할 레코드의 content_order"
                  },
                  "content": {
                    "type": "string",
                    "description": "새롭게 업데이트할 내용"
                  },
                  "cNum": {
                    "type": "integer",
                    "description": "변경할 열 (1 = big_title, 2 = small_title, 3 = content)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "내용이 성공적으로 업데이트됨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "성공 메시지"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "요청 데이터가 잘못됨"
          },
          "404": {
            "description": "해당하는 레코드가 없음"
          },
          "500": {
            "description": "서버 오류"
          }
        }
      }
    },
    "/update_image": {
      "post": {
        "summary": "문단의 이미지를 업데이트",
        "tags": [
          "Image"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "bookId": {
                    "type": "string",
                    "description": "책 ID"
                  },
                  "inputCount": {
                    "type": "integer",
                    "description": "입력 횟수"
                  },
                  "content_order": {
                    "type": "integer",
                    "description": "업데이트할 레코드의 content_order"
                  },
                  "whatData": {
                    "type": "integer",
                    "description": "데이터 타입 (1 = 업로드된 파일, 2 = AI 생성 이미지 경로, 3 = URL 리다이렉트)"
                  },
                  "image": {
                    "type": "string",
                    "format": "binary",
                    "description": "업로드할 이미지 파일 (whatData가 1일 때 필요)"
                  },
                  "image_path": {
                    "type": "string",
                    "description": "AI로 생성된 이미지 경로 (whatData가 2일 때 필요)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "이미지가 성공적으로 업데이트됨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "성공 여부"
                    },
                    "image_path": {
                      "type": "string",
                      "description": "업데이트된 이미지 경로"
                    }
                  }
                }
              }
            }
          },
          "302": {
            "description": "업데이트된 이미지 경로로 리다이렉트됨 (whatData가 3일 때)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "성공 여부"
                    },
                    "image_path": {
                      "type": "string",
                      "description": "업데이트된 이미지 경로"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "요청 데이터가 잘못됨"
          },
          "404": {
            "description": "해당하는 레코드가 없음"
          },
          "500": {
            "description": "서버 오류"
          }
        }
      }
    },
    "/upload": {
      "post": {
        "summary": "이미지 파일을 업로드하고 경로를 DB에 저장",
        "tags": [
          "Image"
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "image": {
                    "type": "string",
                    "format": "binary",
                    "description": "업로드할 이미지 파일"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "이미지가 성공적으로 업로드되고 경로가 DB에 저장됨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "성공 여부"
                    },
                    "path": {
                      "type": "string",
                      "description": "저장된 이미지의 경로"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "DB 저장 오류 또는 서버 오류"
          }
        }
      }
    },
    "/upload_base64": {
      "post": {
        "summary": "base64 인코딩된 이미지 데이터를 업로드하고 저장",
        "tags": [
          "Image"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "image": {
                    "type": "string",
                    "description": "base64로 인코딩된 이미지 데이터"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "base64 이미지가 성공적으로 저장됨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "성공 여부"
                    },
                    "path": {
                      "type": "string",
                      "description": "저장된 이미지의 경로"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "파일 저장 오류 또는 서버 오류"
          }
        }
      }
    },
    "/write_process/chatbot": {
      "post": {
        "summary": "초기 입력시, 챗봇으로 추가할 때 사용자 입력을 임시로 저장함",
        "tags": [
          "Autobiography"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "작성할 자서전 내용"
                  },
                  "category": {
                    "type": "string",
                    "description": "자서전 카테고리"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "자서전이 성공적으로 저장됨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "description": "응답 상태 코드"
                    },
                    "bookId": {
                      "type": "string",
                      "description": "저장된 자서전의 고유 ID"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 데이터"
          },
          "500": {
            "description": "서버 오류"
          }
        }
      }
    },
    "/write_process/book_reading": {
      "post": {
        "summary": "초기 입력시, 사용자 입력을 저장하고, 사용자 입력에 대한 AI 모델 응답을 반환받아 저장함",
        "tags": [
          "Autobiography"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "사용자가 입력한 자서전 내용"
                  },
                  "bookId": {
                    "type": "string",
                    "description": "자서전의 ID, 없을 경우 새로 생성됨"
                  },
                  "category": {
                    "type": "string",
                    "description": "자서전의 카테고리"
                  },
                  "isChatbot": {
                    "type": "boolean",
                    "description": "챗봇이 생성한 응답 여부"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "자서전 내용이 성공적으로 저장됨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "description": "응답 상태 코드"
                    },
                    "bookId": {
                      "type": "string",
                      "description": "저장된 자서전의 ID"
                    },
                    "inputCount": {
                      "type": "integer",
                      "description": "저장된 내용의 input count"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 데이터"
          },
          "500": {
            "description": "서버 오류"
          }
        }
      }
    },
    "/check_id": {
      "post": {
        "summary": "아이디 중복 확인",
        "tags": [
          "Auth"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "확인할 사용자 아이디"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "아이디 중복 확인 결과",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "요청 성공 여부"
                    },
                    "message": {
                      "type": "string",
                      "description": "중복 확인 메시지"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "아이디 미입력"
          },
          "500": {
            "description": "서버 오류"
          }
        }
      }
    },
    "/login_process": {
      "post": {
        "summary": "사용자 로그인",
        "tags": [
          "Auth"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "사용자 아이디"
                  },
                  "pw": {
                    "type": "string",
                    "description": "사용자 비밀번호"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "로그인 성공 여부 반환",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "로그인 성공 여부"
                    },
                    "message": {
                      "type": "string",
                      "description": "로그인 메시지"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "서버 오류"
          }
        }
      }
    },
    "/logout": {
      "get": {
        "summary": "사용자 로그아웃",
        "tags": [
          "Auth"
        ],
        "responses": {
          "302": {
            "description": "홈 화면으로 리다이렉트"
          }
        }
      },
      "post": {
        "summary": "사용자 로그아웃",
        "tags": [
          "Auth"
        ],
        "description": "세션을 파기하고 로그아웃 처리. 로그아웃 후 쿠키 삭제.",
        "responses": {
          "200": {
            "description": "성공적으로 로그아웃되었거나 세션이 없음",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "로그아웃 결과 메시지"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "로그아웃 처리 중 오류 발생",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "description": "오류 메시지"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/register_process": {
      "post": {
        "summary": "사용자 회원가입",
        "tags": [
          "Auth"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "사용자 아이디"
                  },
                  "pw": {
                    "type": "string",
                    "description": "비밀번호"
                  },
                  "pw2": {
                    "type": "string",
                    "description": "비밀번호 확인"
                  },
                  "username": {
                    "type": "string",
                    "description": "사용자 이름"
                  },
                  "email": {
                    "type": "string",
                    "description": "이메일 주소"
                  },
                  "phone_num": {
                    "type": "string",
                    "description": "전화번호"
                  },
                  "birth": {
                    "type": "string",
                    "format": "date",
                    "description": "생일"
                  },
                  "gender": {
                    "type": "string",
                    "description": "성별"
                  },
                  "profileImage": {
                    "type": "string",
                    "format": "binary",
                    "description": "프로필 이미지 파일"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "회원가입 성공 여부 반환",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "요청 성공 여부"
                    },
                    "message": {
                      "type": "string",
                      "description": "성공 또는 오류 메시지"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 데이터"
          },
          "500": {
            "description": "서버 오류"
          }
        }
      }
    },
    "/check_login": {
      "get": {
        "summary": "로그인 상태 확인",
        "tags": [
          "Auth"
        ],
        "responses": {
          "200": {
            "description": "로그인 상태 반환",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "loggedIn": {
                      "type": "boolean",
                      "description": "로그인 여부"
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {},
  "tags": [
    {
      "name": "Autobiography_ADD",
      "description": "자서전 추가 작성 관련 API"
    },
    {
      "name": "Category",
      "description": "카테고리 관리 API"
    },
    {
      "name": "Chatbot",
      "description": "Chatbot과의 대화 관련 API"
    },
    {
      "name": "DALL-E",
      "description": "DALL-E 이미지 생성 API"
    },
    {
      "name": "Content",
      "description": "컨텐츠 삭제 및 업데이트 API"
    },
    {
      "name": "Image",
      "description": "이미지 삭제 API"
    },
    {
      "name": "Book",
      "description": "책 리스트 삭제 API"
    },
    {
      "name": "User",
      "description": "유저 관련 API"
    },
    {
      "name": "Print",
      "description": "책의 컨텐츠 출력 및 정리 API"
    },
    {
      "name": "Title",
      "description": "자서전 챕터 소제목 추천 API"
    },
    {
      "name": "SemiSave",
      "description": "자서전 임시 저장 API"
    },
    {
      "name": "Autobiography",
      "description": "자서전 작성 및 내용 관리 API"
    },
    {
      "name": "Auth",
      "description": "사용자 인증 및 관리 API"
    }
  ]
}