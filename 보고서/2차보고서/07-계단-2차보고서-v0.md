# Team-Info

| 항목               | 내용                                                                                                                                  |
|:-------------------|:--------------------------------------------------------------------------------------------------------------------------------------|
| (1) 과제명         | YOU-BOOK : 간편한 자서전 제작을 위한 AI 기반 자서전 제작 웹서비스                                                                      |
| (2) 팀 번호 / 팀 이름 | 07-계단                                                                                                                              |
| (3) 팀 구성원       | 양다나(2276185) : 리더, AI <br> 안민지(2176205) : 팀원, 백엔드 <br> 장유현(2070066) : 팀원, 프론트엔드                                   |
| (4) 팀 지도교수     | 심재형                                                                                                                                |
| (5) 팀 멘토         | 이수화 / 코그넷나인 / 박사,전문위원                                                                                                    |
| (6) 과제 분류       | 산학과제                                                                                                                              |
| (7) 과제 키워드     | CV, NLP, AI, 데이터베이스                                                                                                             |
| (8) 과제 내용 요약  | YOU-BOOK은 사용자가 입력한 내용을 기반으로 AI를 활용해 자서전의 일부분을 대신 작성해주는 웹서비스입니다. <br> 챗봇이 자서전 작성을 위한 질문을 유도하고, 사용자의 답변도 자서전에 반영됩니다. 사용자는 글을 직접 수정하거나, 문단 위치, 글꼴, 글의 색상, 표지 등을 설정할 수 있습니다. |

# Project Summary

 *본 보고서는 YOU-BOOK의 **배경**을 **target customer**와 그들의 **pain points**를 통해 보이고, **기존 연구와의 비교**로 본 과제의 차별점과 **제안 내용** 및 **주요 기능 리스트**로 **solution**을 소개하여 **목표** 및 **필요성**을 소개하고자 한다.* 
| 항목             | 내용                                                                                                                               |  
|------------------|--------------------------------------------------------------------------------------------------------------------------------------|
| (1) 문제 정의     | *YOU-BOOK의 방향성을 잡기 위해 본 과제의 배경이 된 **타겟 고객**과, 그 고객이 현재 존재하는 서비스들을 사용하면서 겪을 **문제점**들을 정리하였다*<br><br> **[ Target Customer ]**  <br>타겟층은 **자서전**을 만들고 싶어하는 **평범한 사람들**이다. 이들은 **자서전 제작을 희망**하지만 방법의 불편함, 작문의 어려움, 금전적인 문제 등 **다양한 문제**로 자서전을 만들지 못하고 있는 상황이다. <br><br> **[ Pain Points ]**  <br> **1.** 작문 능력의 한계로 직접 **글 작성이 어려움** <br> **2.** 삽입할 만한 **사진 및 삽화 부족** <br> **3.** 대필 작가 고용 시 부담스러운 **비용** <br> **4.** 대필 작가 고용 시, 원하는 방향으로의 **수정 어려움** <br> **5.** 대신 작성해주는 서비스 이용시 사용자의 **참여도 저하** |
| (2) 기존연구와의 비교 | *기존 연구의 단점과 본 과제의 비교를 통하여 **차별점**을 보일 것이다.* <br><br> **[ 대필작가 고용 ]** <br> ㆍ장점 ) <br> 작가와 대화를 통해 원하는 방향으로 자서전 생성 가능, 원하는 작가 선택 가능 <br> ㆍ**단점 1)**  최소 100만원을 호가하는 **높은 금액** <br> **->** **보다 저렴한** 금액으로 서비스 사용 가능 *(낮은 제작 비용으로 낮은 서비스 이용 금액 예상)*<br>  ㆍ**단점 2)** 평균적으로 사용자에게 **2회의 수정 기회** 제공    <br> **->** 사용자가 원할 시 **제한 없이 수정 가능**<br><br> **[ 자서전 주문제작 플랫폼 ]** *(생각의 뜰, 리본북 등)* <br> ㆍ장점 ) 사용자 자율성 증대, 접근성 좋음 <br> ㆍ**단점 1)** 30 페이지 이상의 분량을 **직접 작문**해야 함. <br> **->** **챗봇, 자서전 제작 기능**을 이용하여 작문에 도움을 받을 수 있음 |
| (3) 제안 내용     | *YOU-BOOK은 사용자가 자서전의 **내용을 생성**할 수 있도록 도와주는 **기능 1**과 **기능 2**, **기능 3**으로 자서전의 완성도를 올리고, 사용자의 자유도와 참여도를 올려 만족도를 올릴 수 있는 **기능 4**와 **기능 5**를 이용하여 사용자가 원하는 자서전을 높은 **완성도**로 생성할 수 있게 해준다.* <br><br> **1. 챗봇 기능** : 챗봇과의 간단한 대화를 통해 사용자는 자신의 **자서전에 포함 시킬 내용들과 관련된 질문**들을 받아서 자서전 주제를 얻을 수 있다. 또, 사용자의 선택에 따라 그 내용을 자서전 제작에 사용할 수 있다. 위 기능으로, 자서전에 작성하고자 하는 내용의 선정에 어려움을 겪는 사람들의 어려움을 해결할 수 있다.  <br><br> **2. 자서전 제작 기능** : 간단한 내용들을 입력하면 자서전의 내용을 만들어주는 인공지능을 통하여 자유로운 작문이 어려운 사람들이 작문에 대한 부담감 없이 **더 정제된 자서전 텍스트**를 얻을 수 있다. <br><br> **3. 제목/소제목 추천 기능** : 자서전의 내용을 기반으로 챕터별로 생성된 **소제목을 추천**받을 수 있으며, 전체 내용을 기반으로 생성된 **자서전의 제목**도 추천받을 수 있다. <br> <br> **4. 이미지 생성 및 사진 추가 기능** : 자서전에 포함시키고 싶은 **사진을 직접 추가**할 수 있으며, 포함시킬 적절한 사진이 없을 경우 **원하는 이미지를 생성**하여 적재적소에 배치시킬 수 있다.<br>  <br> **5. 생성할 글의 내용 및 디자인 수정 기능** : 생성한 자서전의 내용을 사용자가 **자유롭게 수정**할 수 있고, **표지의 제목, 제목의 글씨체, 크기 위치, 색상 등을 선택**할 수 있다. 또, **표지**에도 삽화 생성 기능을 사용하여 표지에 넣을 이미지를 생성하여 포함시키거나, 원하는 사진을 추가시킬 수 있다. |
| (4) 기대효과 및 의의 | 주요 고객층이 사용하기 **편리한** UX/UI 지원 <br> AI를 통한 텍스트 및 이미지 생성으로 자서전 제작 **편의성 증대** <br> 자서전 제작을 통해 삶을 회고하고 **긍정적**으로 돌아볼 수 있는 기회 제공 |
| (5) 주요 기능 리스트 | *본 과제를 수행하기 위해 **필요한 기능**들과 각 기능에 사용된 **기술**을 정리했다.* <br><br> **1. 챗봇 기능 (OpenAI API)** <br>ㆍ**openAI gpt4o-mini 의 chat API** 를 사용하고, 사용자가 입력한 데이터를 기반으로 **적절한 질문을 생성**하도록 **파인튜닝**하해 자서전 생성에 필요한 데이터를 수집한다. 챗봇에서 대화한 데이터를 API 가 질문한 내용과 사용자의 답변을 구분하여, 최초에 입력한 데이터를 합쳐 요약 API 에 전달한다. <br><br> **2. 요약 기능(OpenAI API)** <br> ㆍ**openAI gpt4o-mini** 를 요약 기능을 가지도록 **파인튜닝**한 모델을 사용했으며, 학습시킬때 각 텍스트에 대해 포맷을 만들어서 학습시킨다.<br>ㆍ챗봇과 대화한 데이터와 최초에 입력한 데이터를 합쳐 요약해 자서전 생성 API 에 전달한다.<br>ㆍ생성된 자서전 텍스트를 요약하여 **DALL-E 3 API** 에 전달하여 이미지를 생성한다.<br><br>**3. 자서전 내용 제작 기능 (OpenAI API)** <br>ㆍ**gpt4o-mini의 openAI** 를 이용하여 사용자가 입력한 정보로 서사를 생성할 수 있도록 **파인튜닝**했으며, 사용자가 입력할 수 있는 데이터 별로 **답변 포맷**을 만들어 학습시켰다.<br>ㆍAPI 가 생성한 데이터를 개행 기준으로 구분하여 문단 단위로 출력하고 데이터베이스에 저장한다.<br><br> **4. 제목/소제목 추천 기능 (OpenAI API)** <br>ㆍ**openAI gpt4o-mini** 를 제목/소제목 추천 기능을 가지도록 **파인튜닝**한 모델을 사용해 문단의 내용을 기반으로 원하는 **제목/소제목 포맷**을 학습시킨다.<br><br> **5. 이미지 생성 기능 (OpenAI API)** <br> ㆍ**DALL-E 3** 를 이용하여 자서전에 삽입할 이미지 또는 요약된 자서전 텍스트와 사용자가 입력한 내용을 기반으로 이미지를 생성한다.<br><br>**6. 자서전 수정 기능 (HTML, CSS, JS)** <br> ㆍ**HTML, CSS, JS**를 사용해 사용자가 AI가 생성한 텍스트가 포함된 자서전을 **제목/소제목/그림을 추가하거나 배치/내용을 수정**할 수 있도록 구현했다. 또한, 사용자가 원한다면 **글을 추가**할 수 있도록 했다.<br>ㆍ사용자는 표지에 배경색 변경, 텍스트 추가, 그림 추가를 통해 **원하는 표지 디자인**을 만들 수 있다.<br><br> **7. 자서전 보기 기능 (HTML, CSS, JS)** <br>ㆍ생성 완료된 자서전 리스트를 마이페이지에서 **그래픽**으로 확인할 수 있다.<br>ㆍ생성 완료된 자서전 표지를 클릭해, 기존에 생성한 **자서전 텍스트**를 확인할 수 있다. <br><br> **8. 데이터베이스 CRUD (Create, Read, Update, Delete) 기능 (MySQL)** <br>ㆍ내부의 데이터에 대해서, 사용자의 조작에 따라 데이터가 **생성 (CREATE)** 되고, **수정시 (UPDATE)** 되며 생성된 데이터를 **읽고 (READ)** 및 **삭제 (DELETE)** 할 수 있다.<br>ㆍ내부에서 **동적으로 데이터가 조작**되어, 외래키 조건에 의해 관련된 데이터들이 자동으로 삭제되고, 업데이트된다. <br><br> |


# Project-Design & Implementation

| 항목                | 내용                                                                                                                                                                                                                                                   |
|:--------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| (1) 요구사항 정의    | *우리 팀은 요구사항 정의서를 각 **페이지** 별로 나누어서 작성하였으며, 사용자가 이용할 수 있는 기능들을 **주요 기능** 중심으로 작성하였다.* <br><br>![요구사항 정의서](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/1%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/KakaoTalk_20241023_171824028.jpg) <br><br>*아래는 요구사항 정의서에 작성한 **주요 기능**들에 대한 **간략한 설명**이다.* <br><br>**1. 로그인** <br>ㆍ사용자는 회원 가입 후 **로그인** 할 수 있다.<br>ㆍ사용자가 로그인할 경우, 아이디와 비밀번호를 입력해야 한다. <br> ㆍ아이디/비밀번호 찾기 기능을 통해 개인정보에 입력한 연락처로 아이디/비밀번호를 찾을 수 있다. <br>**2. 자서전 제작**<br>ㆍ사용자는 로그인 후, 자서전을 제작할 수 있다.<br>ㆍ사용자는 자서전을 **직접 글을 입력**해 만들거나, **‘챗봇’** 기능을 사용해 챗봇과의 대화를 통해 생성한 글을 넣을 수 있다.<br>ㆍ사용자는 자서전 내에 사용자가 소지하고 있는 **이미지 파일** 혹은 사용자가 입력한 내용을 바탕으로 **AI 생성 이미지**를 삽입할 수 있다.<br>ㆍ사용자가 만든 자서전의 **표지**를 문구나 이미지를 추가해 직접 만들 수 있다.<br>ㆍ자서전 표지에 사용자가 소지하고 있는 이미지 파일 혹은 사용자가 입력한 내용을 바탕으로 AI가 생성해준 이미지를 삽입할 수 있다.<br>**3. 자서전 보기**<br>ㆍ사용자는 본인이 제작한 자서전을 자서전 보드에서 볼 수 있다.<br><br> *아래는 요구사항 정의서에 작성된 내용을 **ER 모델**로 나타낸 것이다.*  <br>![요구사항 정의](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/1%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/IMG_2110.JPG) |
| (2) 전체 시스템 구성 |**[ 전체 SW 설명 ]** <br> *유북 서비스는 **클라이언트, 서버, AI, DB, 챗봇**으로 구성되어 있다.* <br><br>ㆍ**클라이언트** : 사용자가 웹에서 서비스를 경험할 수 있게 한다.<br>ㆍ**서버** : AWS EC2 환경에서 모든 처리를 담당한다.<br> ㆍ**AI** : 데이터 분석과 맞춤형 콘텐츠 생성을 담당한다. <br> ㆍ**DB** : 사용자 정보와 콘텐츠를 안전하게 관리한다. <br> ㆍ**챗봇** : 사용자와의 자연어 상호작용을 지원하여 서비스 접근성을 높인다. <br>ㆍ각 요소는 **독립적**으로 기능하면서도 **상호 연결**되어 **효율적**이고 **확장 가능**한 시스템을 제공한다. <br><br> *아래는 유북의 전체적인 **시스템 구조**를 간략하게 정리한 구조도이다.*  ![시스템 구성](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/1%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%82%E1%85%B3%E1%86%AB%20%E1%84%83%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A5%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%86%B7%20(2)%20(1)-%ED%8E%98%EC%9D%B4%EC%A7%80-1%20(2).jpg) <br><br> **[ 구조도에 대한 설명 ]** <br> *아래 설명은 위 **구조도**에 대한 구체적인 설명을 포함하고 있다.* <br><br> **1. 클라이언트**<br> ***React, HTML, CSS**로 구성된 클라이언트는 사용자가 자서전을 **작성**하고 **수정**할 수 있는 **웹 인터페이스**를 제공합니다. 이 인터페이스는 **React 컴포넌트**를 사용해 유연하게 관리되며, 각 요소는 **실시간**으로 업데이트됩니다.* <br> **(1) 사용자 입력** <br>ㆍ사용자는 자서전의 각 장과 문단을 작성하며, 그 과정에서 React 컴포넌트를 통해 **실시간으로 화면에 반영**됩니다. 예를 들어, "나의 유년 시절"이라는 제목으로 시작하는 문단을 작성한 후, 사용자 입력이 즉시 페이지에 반영되어 사용자에게 확인됩니다.<br>ㆍ작성된 내용은 서버로 전송되어 MySQL 데이터베이스의 **init_input** 테이블에 저장됩니다. 각 자서전은 **user_info** 및 **book_list** 테이블을 통해 사용자 정보와 연결되며, 사용자는 언제든지 자서전을 불러와 **수정**할 수 있습니다.<br> **(2) 시각적 피드백** <br> ㆍ**Turn.js와 CSS**가 함께 사용되어, 사용자가 **책을 넘기는 듯한 시각적 효과**를 경험할 수 있습니다. 예를 들어, 사용자가 한 문단을 작성한 후 "저장" 버튼을 누르면, 자서전의 페이지가 실제 책을 넘기는 것처럼 부드럽게 넘겨지면서 다음 페이지로 이동됩니다.<br>ㆍ이러한 시각적 효과는 자서전의 실제 책 같은 느낌을 강조하며, 사용자에게 **몰입감을 제공**합니다.<br> **(3) 버튼 및 UI 조작** <br> ㆍ자서전 생성, 수정, 저장, 삭제와 같은 작업은 **useState**와 **useEffect**를 사용해 효율적으로 관리됩니다. 사용자가 자서전을 작성하면, 해당 자서전의 상태는 자동으로 클라이언트 측에서 업데이트되고, 서버에 저장됩니다. 이때 **book_list**와 **real_book** 테이블에 각각 자서전의 제목 및 내용이 기록됩니다.<br> **(4) 파일 업로드 및 이미지 삽입** <br>ㆍ사용자는 **특정 문단에 이미지를 삽입**할 수 있습니다. 예를 들어, "내 가족과의 바닷가 여행"이라는 문단에 어울리는 이미지를 추가하려면, 사용자는 이미지 파일을 업로드한 후 해당 이미지를 자서전 문단에 삽입할 수 있습니다. 업로드된 이미지는 서버로 전송되어 MySQL 데이터베이스의 **real_book** 테이블에 이미지 경로와 함께 저장됩니다.<br><br> **2. 서버 (데이터 처리 및 API 관리)** <br>***Node.js** 기반 서버는 클라이언트에서 보낸 요청을 처리하고, AI, DB, 챗봇과 연결됩니다. 서버는 **RESTful API**를 통해 클라이언트와 AI, 챗봇, DB 간의 통신을 처리합니다.* <br> **(1) 세션 관리** <br>ㆍ사용자가 로그인할 때 **express-session**을 통해 세션 ID가 생성되고, **Redis**에 저장됩니다. 예를 들어, 사용자가 로그인 후 자서전을 작성하는 동안에도 세션이 유지되어, 페이지를 새로 고침하거나 이동해도 로그인이 유지됩니다. 사용자의 정보는 **user_info** 테이블에서 관리됩니다.<br> **(2) API 호출 및 데이터 라우팅** <br> ㆍ서버는 사용자가 자서전 생성을 요청하면, 이 요청을 AI에게 전달합니다. **AI는 데이터를 분석하여 자서전 텍스트를 생성**하고, 그 결과는 다시 서버를 통해 클라이언트로 전송됩니다. <br>ㆍ예를 들어, 사용자가 "내 어린 시절"이라는 주제를 선택하고 몇 가지 정보를 입력하면, 서버는 이 데이터를 **real_book** 테이블에 저장하며, 동시에 AI에게 이 정보를 전달하여 자서전의 첫 문단을 생성하게 합니다.<br> **(3)자서전 데이터 저장 및 불러오기**<br> ㆍ자서전의 모든 데이터는 MySQL 데이터베이스에 저장됩니다. 사용자는 **언제든지 자서전을 불러와 수정**할 수 있으며, **book_list**와 **real_book** 테이블에서 필요한 데이터를 조회하여 클라이언트로 전송합니다. <br> ㆍ예를 들어, 사용자가 이미 작성한 자서전을 다시 열람하고 싶을 때, 서버는 **book_list**에서 자서전의 기본 정보를 불러오고, **real_book**에서 각 문단의 텍스트와 이미지를 불러옵니다.<br><br> **3. DB (MySQL 기반 데이터베이스)** <br> ***MySQL 데이터베이스**는 자서전의 모든 데이터를 저장하고 관리합니다. 사용자 정보는 **user_info** 테이블에 저장되며, 자서전 관련 데이터는 **book_list**와 **real_book** 테이블에 저장됩니다.* <br> **(1)데이터 저장 (CREATE)** <br>ㆍ자서전이 생성될 때, **book_list** 테이블에 자서전의 제목과 기본 정보가 저장되고, 각 문단과 이미지 정보는 real_book 테이블에 저장됩니다. 모든 데이터는 사용자 정보와 연결되며, 외래 키를 통해 관리됩니다.<br> **(2) 데이터 조회 (READ)** <br>ㆍ사용자가 자서전을 열람할 때는, 서버에서 **book_list**와 **real_book** 테이블을 조회하여 **각 문단의 텍스트와 이미지를 불러옵니다**. 예를 들어, 자서전의 3번째 문단을 불러오는 요청이 발생하면, 서버는 real_book 테이블에서 해당 문단의 텍스트와 이미지를 가져와 클라이언트에 전달합니다.<br> **(3)데이터 수정 (UPDATE)** <br>ㆍ사용자가 자서전을 수정하면, **insert/updateContentRouter**를 통해 수정된 내용이 **real_book** 테이블에 저장됩니다. 예를 들어, 사용자가 특정 문단을 수정하면 기존 데이터는 덮어씌워지지 않고, **수정 내역이 새로운 데이터로 기록**됩니다. <br> **(4) 데이터 삭제 (DELETE)** <br>ㆍ사용자가 자서전을 삭제하면, book_list와 real_book 테이블의 관련 데이터가 삭제됩니다. 이 과정에서 중요한 데이터는 논리적으로 삭제되어 나중에 복구할 수 있습니다. <br><br> **4. 챗봇 (AI 기반 대화 기능)** <br> ***GPT-4 기반 챗봇**은 **사용자가 자서전 작성을 위한 데이터를 입력할 때 필요한 질문**을 던지고, 이를 통해 자서전 작성을 도와줍니다.* <br> **(1)질문 생성** <br> ㆍ챗봇은 자서전 작성을 시작할 때 사용자에게 **질문을 던져 필요한 데이터를 수집**합니다. 예를 들어, 사용자가 "어릴 적 가장 기억에 남는 일이 무엇인가요?"라는 질문을 받으면, 사용자는 이에 답변하여 자서전의 중요한 데이터를 입력합니다. 이 질문과 답변 데이터는 **chatbot_data** 테이블에 저장됩니다.<br> **(2)사용자 응답 처리** <br> ㆍ사용자가 답변을 입력하면, 챗봇은 그 답변에 맞는 추가적인 질문을 던집니다. 이 과정에서 챗봇은 사용자의 입력을 분석하여 자서전에 적합한 데이터를 수집합니다. 예를 들어, "나는 어릴 때 축구를 좋아했다"는 응답을 받으면, 챗봇은 "축구는 언제 시작하셨나요?"와 같은 구체적인 질문을 이어서 던집니다.<br> **(3)데이터 통합** <br>  ㆍ챗봇은 대화 중 수집된 데이터를 요약하고, 이를 **summaryRouter**를 통해 AI에게 전달하여 **자서전 작성에 필요한 데이터를 제공**합니다. 이 데이터는 AI가 자서전 텍스트를 생성하는 데 사용되며, 생성된 결과는 **chatbot_summary** 테이블에 저장됩니다.<br> <br> **5. AI (자서전 생성 및 이미지 생성 기능)** <br> ***GPT-4**와 **DALL·E** 기반 AI는 사용자가 입력한 데이터를 바탕으로 자서전의 텍스트와 이미지를 생성합니다.* <br> **(1)자서전 생성 (GPT-4 기반)** <br> ㆍ사용자가 챗봇과의 대화에서 제공한 데이터를 바탕으로 AI는 자서전의 문단을 생성합니다. 예를 들어, 사용자가 자신의 유년 시절에 대해 설명하면, AI는 이 데이터를 분석하여 감동적인 또는 서사적인 스타일로 문단을 작성합니다. 생성된 문단은 **final_input**과 **real_book** 테이블에 저장됩니다.<br> **(2)요약 기능** <br>  ㆍ자서전의 내용이 길어질 경우, AI는 데이터를 요약하여 **간결한 형식으로 변환**합니다. 이 요약된 텍스트는 자서전의 **전체적인 흐름을 유지**하면서도 **핵심 내용**을 담고 있습니다. 예를 들어, 긴 문단이 입력되면 AI는 주요 내용을 요약하여 자서전의 서술 흐름을 부드럽게 만듭니다.<br> **(3) 이미지 생성 (DALL·E 기반)** <br> ㆍ사용자가 자서전에서 특정 장면을 설명하면, AI는 해당 설명을 바탕으로 이미지를 자동으로 생성합니다. 예를 들어, "가족과 함께했던 바닷가 여행"이라는 문단을 입력하면, AI는 이에 맞는 바다 장면 이미지를 생성하여 **final_input**과 **real_book** 테이블에 삽입합니다.<br> **(4)텍스트 구조화** <br>  ㆍAI는 생성된 텍스트를 자동으로 구조화하여 문단, 제목, 소제목을 생성합니다. 이 과정에서 자서전의 각 장과 소제목이 논리적으로 연결되며, 사용자는 이를 통해 자서전의 전체적인 구성을 확인할 수 있습니다.<br><br><br><br> **[ 주요 기능 구조 ]** <br> *아래 설명은 위에서 정리한 **주요 기능**들의 **구조**에 대한 설명이다.* <br><br>**1. 자서전 생성 기능**<br> ***GPT-4 기반 AI** 는 사용자가 제공한 데이터를 바탕으로 자서전의 텍스트를 자동으로 생성합니다.* <br> **(1)사용자 입력 기반 자서전 작성** <br>  ㆍ사용자가 텍스트를 입력하거나, 챗봇과 대화를 통해 데이터를 제공하면 AI는 이 데이터를 분석하여 **자서전의 문단을 생성**합니다. 예를 들어, 사용자가 "어릴 적 축구를 좋아했다"는 데이터를 제공하면, AI는 이를 바탕으로 "나는 유년 시절 축구를 좋아했고, 매일 친구들과 공을 찼다"와 같은 문단을 작성합니다.<br>  ㆍ이 문단은 **final_input**과 **real_book** 테이블에 저장되며, 자서전의 각 문단은 문체와 내용에 따라 **자동으로 분류**됩니다.<br> **(2)AI 모델의 파인튜닝** <br>  ㆍAI는 사용자 데이터를 기반으로 파인튜닝되어, 각 사용자에게 맞는 문체와 서술 스타일을 적용합니다. 사용자가 감동적이거나 서사적인 서술을 원하면 AI는 이에 맞게 문장을 작성합니다. 예를 들어, 감동적인 자서전을 원한다면 AI는 "나의 어린 시절은 축구와 함께 행복했던 기억으로 가득했다"와 같은 표현을 사용할 수 있습니다.<br> **(3)문단 구조 및 문체 관리** <br>  ㆍAI는 자서전의 문단을 자동으로 구성하며, 각 문단에 적합한 **제목과 소제목을 추가**합니다. 생성된 텍스트는 **final_input**과 **real_book** 테이블에 저장되며, 사용자는 이를 불러와 수정할 수 있습니다.<br> <br>**2. 챗봇 기능**<br> ***GPT-4 기반 챗봇**은 사용자가 자서전 작성을 할 때 필요한 질문을 던지고, 이를 통해 자서전 내용을 확장합니다.* <br> **(1)질문 생성 및 대화 흐름 관리**<br>  ㆍ챗봇은 **사용자의 입력을 기반으로 질문**을 던집니다. 예를 들어, 사용자가 "나는 어릴 적 축구를 좋아했다"라고 입력하면, 챗봇은 "어떤 팀과 경기를 했나요?"와 같은 구체적인 질문을 추가로 던져 자서전 내용을 풍부하게 만듭니다. 이 질문과 응답은 **chatbot_data** 테이블에 저장됩니다.<br> **(2)데이터 검증 및 요약** <br> ㆍ사용자의 응답이 자서전 작성에 적합한지 확인한 후, 불완전하거나 부적절한 답변에 대해서는 **추가 질문**을 던집니다. 예를 들어, 사용자가 "축구를 좋아했지만 잘하지 못했다"라고 입력했을 경우, 챗봇은 "그렇다면 다른 취미가 있었나요?"와 같은 추가 질문을 던질 수 있습니다.<br> ㆍ챗봇이 수집한 데이터는 **summaryRouter**를 통해 요약되어 AI에게 전달되고, 이를 기반으로 자서전의 문단이 생성됩니다.<br> <br>**3. 자서전 수정 기능**<br> *사용자는 **AI**가 생성한 자서전 내용을 자유롭게 **수정**하고 **편집**할 수 있습니다.* <br> **(1)문단 수정 및 추가**<br>  ㆍ자서전의 각 문단은 **사용자가 원하는 대로 수정**할 수 있습니다. 예를 들어, "나는 어린 시절 축구를 좋아했다"라는 문장을 "나는 어린 시절부터 축구를 사랑했다"로 수정할 수 있습니다. 수정된 내용은 서버에 전송되어 **final_input**, **real_book** 테이블에 업데이트됩니다.<br> **(2)이미지 삽입 및 수정**<br>  ㆍ사용자는 **DALL·E API**를 통해 생성된 이미지를 자서전의 특정 문단에 삽입할 수 있습니다. 예를 들어, 축구 경기를 묘사한 문단에 축구 경기 장면의 이미지를 삽입할 수 있습니다.<br> **(3) 제목 및 소제목 수정**<br>  ㆍ사용자는 AI가 생성한 제목과 소제목을 자유롭게 수정할 수 있습니다. 예를 들어, "축구와 나의 유년기"라는 제목을 "나의 축구 이야기"로 수정할 수 있으며, 이 변경 사항은 **final_input**, **real_book** 테이블에 반영됩니다.<br><br>  **4. 이미지 생성 기능 (DALL·E 3 기반)** <br> *자서전의 내용에 맞는 **이미지를 자동으로 생성**하는 기능입니다.* <br> **(1)이미지 생성 요청** <br>  ㆍ사용자가 자서전 작성 중 특정 장면을 묘사하면, AI는 **DALL·E API**를 통해 이미지를 생성합니다. 예를 들어, "가족과 함께한 바닷가 여행"을 설명하는 문단에는 AI가 바다 풍경 이미지를 생성하여 자서전에 삽입합니다.<br> **(2)이미지 커스터마이징** <br>  ㆍ사용자는 **생성된 이미지를 스타일, 색상, 배경 등으로 커스터마이징**할 수 있습니다. 예를 들어, 바닷가 이미지에서 더 따뜻한 색감이나 특정 배경 요소를 추가할 수 있습니다.<br> **(3)이미지 저장 및 관리**<br>  ㆍ생성된 이미지는 **final_input**, **real_book** 테이블에 저장되며, 이후에도 이미지를 수정하거나 삭제할 수 있습니다. 사용자는 언제든지 이미지를 불러와 자서전에 재사용할 수 있습니다.<br> <br>**5. 제목/소제목 생성 기능**<br> ***GPT-4 기반 AI**는 각 문단을 분석하여 해당 문단에 **적합한 제목과 소제목을 추천**합니다.* <br> **(1)문단 분석 및 제목 추천** <br>  ㆍAI는 문단의 내용을 분석하여 적절한 제목을 추천합니다. 예를 들어, "어린 시절 축구 경험"이라는 문단을 작성하면, AI는 "축구와 나의 성장"과 같은 제목을 추천할 수 있습니다.<br> **(2)사용자 피드백 반영** <br>  ㆍ사용자는 AI가 추천한 제목을 수정하거나, AI의 제안을 받아들일 수 있습니다. 변경된 제목은 **real_book** 테이블에 저장됩니다.<br> **(3)실시간 업데이트** <br>  ㆍ문단 내용이 수정되면 AI는 즉시 새로운 제목을 추천하며, 이 과정은 자서전 작성 중 **실시간**으로 이루어집니다. |
| (3) 주요엔진 및 기능 설계 | *유북의 **주요엔진**을 **프론트엔드, 백엔드, AI**로 나누어서 설명할 것이다. 또, **기능 설계**를 **전체 시스템 흐름**을 통해 설명할 것이다.* <br><br><br> **프론트엔드** <br> *프론트엔드의 주요 모듈 및 라이브러리를 소개한 후 이 기능과 관련된 페이지와 모듈을 설명할 것이다.* <br><br> **[ 주요 모듈 및 라이브러리 ]** <br> **1. React** <br> *React는 **라이브러리**로서, UI 구성 요소를 효율적으로 만들고 관리하기 위한 JavaScript 라이브러리입니다. React를 사용한 이유는 동적인 사용자 인터페이스를 쉽고 효율적으로 구축할 수 있기 때문입니다. 컴포넌트 기반 구조를 통해 코드 재사용성을 높이고, 필요한 UI 상태를 효과적으로 관리할 수 있습니다.* <br> **(1) React 기능 및 Hook** <br> ㆍ**useEffect**: 컴포넌트가 렌더링될 때 특정 동작을 실행하도록 하는 Hook으로, 비동기 데이터 로드나 DOM 업데이트에 사용됩니다.<br> ㆍ**useState**: 컴포넌트의 상태를 관리하기 위해 사용되는 Hook으로, 주로 입력값 상태나 UI 상태 관리를 위해 사용됩니다. <br> ㆍ **useRef**: DOM 요소에 직접 접근하기 위해 사용되는 Hook으로, 주로 폼 요소나 애니메이션 제어에 활용됩니다. <br> **(2) React Router 기능**<br> ㆍ **useNavigate**: 페이지 간 이동을 관리하기 위해 사용됩니다.<br><br> **2. jQuery** <br> *jQuery는 **라이브러리**로, JavaScript를 보다 쉽게 사용할 수 있습니다. DOM 조작, 이벤트 처리, AJAX 요청 등을 간편하게 구현할 수 있어 다양한 기능을 손쉽게 활용할 수 있습니다.* <br> **(1) 프로젝트 내에서 활용** <br>ㆍ자서전 수정 페이지에서 사용자 입력의 애니메이션 효과를 위해 사용되었습니다. 직관적이고 간단한 조작으로 특정 효과를 추가하는 데 활용되었습니다.<br> **(2) Turn.js** <br>ㆍ Turn.js는 **라이브러리**로, 페이지 넘김 애니메이션을 추가하기 위한 JavaScript 라이브러리입니다. 페이지 넘김 효과가 필요한 자서전 보드 페이지에 사용되어 사용자가 책을 넘기는 듯한 경험을 제공할 수 있습니다.<br><br> **[ 기능과 관련된 페이지와 모듈 설명 ]** <br> **1. 로그인 / 회원가입 페이지**<br> ![로그인/회원가입 페이지](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/KakaoTalk_20241105_231121845_05.png)<br> 사용자의 로그인 및 회원가입 기능을 제공합니다. 사용자 인증과 데이터 검증을 통해 보안성을 높이며, **자서전 수정 페이지**와 연결되어 있어 인증된 사용자만 자서전 수정을 진행할 수 있도록 설계되었습니다. <br><br> **2. 사용자 입력 페이지** <br>![사용자 입력 페이지](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/KakaoTalk_20241105_231121845_09.png) <br> 사용자가 자서전에 들어가길 원하는 내용을 입력하는 페이지입니다. 입력을 완료하면 챗봇과의 대화를 통해 내용을 보충하거나, 바로 자서전 만들기를 수행할 수 있습니다. 자서전 생성 시 사용자가 입력한 내용을 정제해 새로운 텍스트를 만들어 자서전 초안을 생성합니다.<br><br> **3. 자서전 보드 페이지** <br> ![자서전 보드 페이지](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/KakaoTalk_20241105_231121845.png) <br>사용자가 생성한 자서전들을 카테고리로 분류해 전시해놓은 페이지입니다. 검색, 삭제, 카테고리 추가, 자서전 추가가 가능하며, 임시저장 버튼 클릭 시 생성 도중 임시저장하고 완료하지 않은 자서전 목록이 나타나고, 이를 클릭하여 수정할 수 있습니다. <br><br> **4. 자서전 페이지** <br> ![자서전 페이지](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-11-07%20170332.png) <br>사용자가 자서전 내용을 입력하고 수정할 수 있는 페이지로, 텍스트 입력, 이미지 추가 등의 기능을 지원합니다. **자서전 보드 페이지**와 연결되어 있어 입력된 내용을 실시간으로 확인할 수 있습니다. 사용자가 작성한 자서전을 책처럼 넘기면서 볼 수 있는 페이지로, **Turn.js**를 사용하여 실제 책의 페이지 넘김 효과를 제공합니다.<br><br> **5. 자서전 수정 페이지** <br> ![자서전 수정 페이지](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/KakaoTalk_20241105_231121845_06.png)<br> 사용자가 입력 페이지에서 입력한 내용을 수정할 수 있는 페이지입니다. **useState**와 **useEffect**를 사용하여 실시간으로 내용 변경을 반영하며, 사용자가 원하는 위치로 이동하여 특정 페이지를 수정할 수 있도록 설계되었습니다.<br><br><br> **백엔드** <br> *클라우드 서버를 구축과 관련된 설명과 백엔드 언어로 Node.js를, 데이터베이스로 MySQL을 선택한 이유와 데이터베이스의 테이블들을 소개한 후, 사용한 라이브러리 및 모듈과 API를 소개할 것이다.* <br> <br> **[ 클라우드 서버 구축 ]** <br> ![클라우드 서버 구축](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/image.png) <br> ㆍ 초기에는 **AWS EC2 서버(t3.medium 인스턴스)** 를 활용하여 프로젝트를 진행하였습니다. 서버 용량이 커서 이를 선택했으나, 높은 비용 부담으로 인해 지도 교수님의 제안을 받아 교수님 개인 서버로 이전하였고, 이후 작업은 이 환경에서 이어가게 되었습니다. 프로젝트가 마무리되면 다시 AWS 환경으로 복귀해 지속적인 관리를 진행할 예정입니다.<br>ㆍEC2 서버 사용 중에는 아마존 RDS와 연동하여 데이터베이스를 관리했으나, 개인 서버로 이동한 후에는 MySQL 단독으로 데이터베이스를 운영하고 있습니다. 프로젝트 완료 후, 다시 RDS로 복귀해 데이터베이스를 안정적으로 이관하고 관리할 계획입니다.<br><br> **[ 백엔드 언어 선택 ]** <br>ㆍ저희는 유북 프로젝트의 백엔드 언어로 **Node.js** 를 사용하였습니다. <br> ㆍNode.js는 **JavaScript 런타임 환경**으로, 브라우저 밖에서도 JavaScript를 실행할 수 있게 해주는 강력한 도구입니다. Chrome V8 JavaScript 엔진을 기반으로 구축되어 뛰어난 성능과 확장성을 자랑하며, 특히 비동기 I/O 처리를 통해 고속의 네트워크 애플리케이션을 구현할 수 있습니다. 덕분에 대규모 트래픽을 처리해야 하는 서버 환경에 적합하고, 동시에 JavaScript로 클라이언트와 서버 양쪽 코드를 통일해 개발 생산성을 극대화할 수 있는 장점이 있습니다.<br><br> **1. 비동기 처리로 인한 성능 최적화** <br>ㆍNode.js의 비동기 방식은 I/O 작업(파일 읽기/쓰기, DB 접근 등)이 많은 서버 환경에 이상적입니다. 이 프로젝트에서는 데이터베이스와의 빈번한 통신과 API 요청 처리가 필요했기 때문에, Node.js의 비동기 이벤트 루프가 큰 장점을 발휘했습니다. 이를 통해 수많은 클라이언트 요청을 효과적으로 처리하고, 서버의 응답 속도를 높일 수 있었습니다.<br><br> **2. JavaScript로 풀스택 개발**<br>ㆍ서버와 클라이언트 양쪽을 JavaScript로 통일함으로써 코드의 일관성을 유지할 수 있었습니다. 이로 인해 개발 효율성이 크게 증가했으며, 서버와 클라이언트 간 데이터 전송 및 구조 통일이 쉬워졌습니다. 팀 내 커뮤니케이션 또한 원활해져, 서버와 클라이언트 코드 협업이 더욱 수월해졌습니다.<br><br> **3. 풍부한 모듈 생태계와 커뮤니티 지원** <br> ㆍNode.js는 오픈 소스이면서 광범위한 모듈 생태계를 갖추고 있어, 프로젝트 요구사항에 맞는 다양한 기능을 손쉽게 구현할 수 있습니다. 예를 들어, Express를 통해 HTTP 요청 처리를 간편하게 설정하고, CORS, body-parser, session 관리 등 필요한 라이브러리를 통해 추가적인 기능을 쉽게 확장할 수 있었습니다. 커뮤니티가 활발하여 관련 자료와 지원도 풍부하기 때문에, 개발 중 직면한 문제를 빠르게 해결할 수 있었습니다.<br><br> **[ 데이터베이스 ]** <br>![데이터베이스](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/image%20(1).png)<br>ㆍ저희 프로젝트에서는 MySQL 데이터베이스를 사용하여 데이터를 효율적으로 관리하고 있습니다.<br>ㆍMySQL은 서버에 직접 설치하고 설정하여 안정적인 데이터베이스 환경을 구축하였으며, 모든 데이터 관리 작업을 손쉽게 수행할 수 있도록 설정하였습니다. MySQL 설치에 필요한 파일은 공식 다운로드 페이지(https://dev.mysql.com/downloads/windows/installer/8.0.html)에서 저희가 사용한 버전으로 다운로드할 수 있습니다. <br> ㆍ데이터베이스의 구조는 프로젝트 요구사항에 맞춰 정의한 **ER(Entity-Relationship) 다이어그램**을 기반으로 설계되었습니다. 이는 프로젝트의 데이터 흐름과 관계를 체계적으로 관리하기 위함입니다.<br> ㆍ아래는 데이터베이스 내부 각 테이블의 구성 요소와 기능에 대한 자세한 설명입니다. 각 테이블은 프로젝트의 핵심 데이터를 저장하고 처리하는 역할을 수행하며, 요구사항에 맞춰 설계되었습니다.<br><br> **1. user_info 테이블** <br> ![user_info 테이블](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/image%20(2).png)<br> ㆍ사용자의 정보를 저장하는 테이블입니다.<br> ㆍ **id** 를 PK로 하여  각 사용자를 고유하게 식별합니다.<br> ㆍ **id, pw** 뿐 아니라 사용자의 이름, 성별, 생일, 이메일, 전화번호, 프로필 사진을 수집합니다.<br> ㆍ수집된 정보를 이용해, 자서전을 형성하기 위한 기본 정보로 활용합니다. <br><br> **2. category 테이블** <br> ![category 테이블](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/image%20(3).png) <br> ㆍ사용자가 생성한 카테고리 정보를 저장하는 테이블입니다. <br> ㆍ **user_id, name** 을 PK 로 하여 특정 사용자가 설정한 카테고리들을 고유하게 식별합니다. <br> ㆍ **user_info table** 의 **user_id** 를 참조하여, 사용자에 맞는 카테고리를 불러올 수 있습니다.<br><br> **3. init_input 테이블** <br>![init_input 테이블](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-11-05%20064815.png)<br> ㆍ사용자가 최초 입력한 콘텐츠를 저장하는 테이블입니다.<br> ㆍ **user_id, book_id, input_count** 를 PK 로 하여 사용자가 특정 책과 연결된 입력을 고유하게 식별합니다. **user_id** 와 **book_id**  는 각각 **user_info** 및 **init_input**의 키를 참조하여 관리됩니다. <br> ㆍ **book_id** 는 초기 입력이 들어올때 최초로 랜덤한 UUID 값을 가지고 생성됩니다. <br> ㆍ **input_count** 의 경우, 글을 추가하거나, 임시저장한 컨텐츠를 불러와 새롭게 작성할때 활용되는 지표입니다. <br> ㆍ **category** 의 경우 category 테이블의 name 을 참조하여 책의 카테고리를 저장하며, 카테고리가 변경될 때 자동으로 업데이트됩니다.<br><br> **4. chatbot_data 테이블** <br> ![chatbot_data 테이블](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-11-05%20064840.png)<br> ㆍ사용자의 입력과 그에 대한 챗봇의 질문 및 응답 데이터를 저장하는 테이블입니다. <br> ㆍ **user_id, book_id, input_count, quest_num** 를 PK 로 하여 챗봇과 사용자가 주고받은 대화 항목을 고유하게 식별합니다. <br> ㆍ **init_input 테이블**에서 **input_count** 를 식별하여, 입력횟수에 기반하여 챗봇이 호출될 수 있게 합니다. <br><br> **5. chatbot_summary 테이블** <br> ![chatbot_summary 테이블](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-11-05%20064834.png) <br> ㆍ챗봇과 응답한 내용을 요약하여 저장하는 테이블입니다. <br> ㆍ **user_id, book_id, input_count** 를 PK 로 하여 해당하는 정보에 일치하는 chatbot_data 값을 찾고, 모아 요약하여 테이블에 저장합니다. <br><br> **6. purified_input 테이블** <br> ![purified_input 테이블](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-11-05%20064822.png) <br> ㆍ사용자의 입력 내용 ( 초기 입력값 또는 챗봇과의 대화로 요약된 내용 ) 을 기반으로, 자서전 생성 API 에서 정제한 내용을 저장하는 테이블 입니다. <br> ㆍ **user_id, book_id, input_count** 로 사용자와 책 아이디, 입력횟수를 기반으로 고유하게 정제된 데이터들을 저장하고 있습니다. <br><br> **7. final_input 테이블** <br> ![final_input 테이블](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-11-05%20064829.png) <br> ㆍ최종적으로 생성되는 텍스트를 저장하는 테이블입니다. purified_input 의 내용을 기반으로 문단을 나누고, 각 문단별로 순서를 매겨 저장합니다. <br> ㆍ **user_id, book_id, input_count, content_order**콘텐츠 순서까지 포함하여 고유하게 식별합니다. 식별된 정보를 바탕으로 문단기준 텍스트를 구분합니다. <br> ㆍ **big_title, small_title, image_path attribute**들을 두어, 각 문단별로 제목, 소제목, 이미지를 추가할 수 있습니다. <br><br> **8. book_list 테이블** <br> ![8. book_list 테이블](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-11-05%20064852.png) <br> ㆍ사용자가 만든 책 목록을 저장하는 테이블입니다. 책 ID와 사용자의 ID, 생성 날짜, 이미지 경로, 제목, 카테고리 정보를 포함합니다.<br> ㆍ 최종적으로 만들어진 , **final_input 테이블**의 정보를 모아 해당 테이블에 저장합니다. **real_book 테이블**과 연결하여, 전체적인 내용은 **real_book** 에 저장하고 기본적인 정보들이 **book_list** 테이블에 저장됩니다. <br><br> **9. real_book 테이블** <br> ![9. real_book 테이블](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-11-05%20064846.png) <br> ㆍ최종 책의 내용과 구조를 저장하는 테이블입니다. 최종 콘텐츠와 순서 정보가 포함되어 있습니다.<br> ㆍ **book_list** 에서 **book_id** 로 호출하여 책의 내용을 불러들이는 용도로 내용을 저장하고 있습니다.<br><br> **[ 사용 라이브러리 및 모듈 ]** <br> **1. Web Framework (Express / body-parser)** <br> **(1) Express** <br> ㆍ **웹 애플리케이션 프레임워크**로, HTTP 요청과 응답을 처리하고, 라우팅, 미들웨어, 세션 등을 간편하게 구현할 수 있게 해 줍니다. <br> **(2) body-parser** <br>ㆍ **미들웨어**로, 들어오는 요청의 본문을 파싱해 req.body에 저장합니다. JSON과 URL-encoded 형태의 데이터를 처리하는 데 유용합니다.  <br> ![Web Framework](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/webframework.png) <br><br> **2. Session (redis)** <br> **(1) redis** <br> ㆍ **외부 라이브러리**로, 세션 데이터를 Redis 데이터베이스에 저장해 효율적인 세션 관리가 가능하게 합니다. <br> **(2) ioredis** <br> ㆍ **Redis 클라이언트 모듈**로, **connect-redis**와 연동해 Redis 서버와의 통신을 쉽게 관리할 수 있도록 합니다. <br> **(3) express-session** <br> **미들웨어**로, Express 애플리케이션에서 세션 관리를 지원합니다. <br> *여기서 사용한 redis 라이브러리는, redis 공식 다운로드 페이지(https://redis.io/downloads/) 에서 다운로드하여, 루트에서 서버 실행하여 관리되고 있습니다* <br> ![Session (redis)]() <br><br> **3. Middleware (cors / morgan)** <br> **(1) cors** <br> ㆍ **미들웨어**로, 서로 다른 출처 간의 자원 공유를 허용하는 설정을 추가해줍니다. <br> **(2) morgan** <br> ㆍ **미들웨어**로, HTTP 요청 로그를 기록해 애플리케이션의 요청 흐름을 쉽게 모니터링할 수 있게 합니다. <br> ![Middleware]() <br><br> **4. Database (mysql)** <br> **(1) mysql2** <br> ㆍ **외부 라이브러리**로, MySQL 데이터베이스와 Node.js 애플리케이션 간의 통신을 가능하게 해줍니다. MySQL 쿼리 실행 및 데이터베이스 작업을 위한 비동기 방식의 인터페이스를 제공합니다. <br> ![Database]() <br><br> **5. AI Integration (openai)** <br> **(1) openai** <br>  ㆍ **외부 라이브러리**로, OpenAI API와 통신하여 GPT 모델을 호출하고, 텍스트 생성이나 이미지 생성 등의 AI 기능을 사용할 수 있게 해줍니다. <br> ![openai]() <br><br> **6. Utility Modules (기타 유틸리티 모듈)** <br> **(1) uuid** <br> ㆍ **유틸리티 라이브러리**로, 고유 식별자를 생성하는 기능을 제공합니다. <br> **(2) axios** <br> ㆍ **HTTP 클라이언트 라이브러리**로, 외부 API와의 통신을 지원하며 GET, POST 등 다양한 HTTP 요청을 보낼 수 있습니다. <br> **(3) fs** <br> ㆍ **Node.js 내장 모듈**로, 파일 시스템과의 상호작용을 지원해 파일을 읽고 쓰거나 삭제하는 작업을 수행합니다. <br> **(4) path** <br>ㆍ **Node.js 내장 모듈**로, 파일 및 디렉토리 경로를 다루는 유틸리티 기능을 제공합니다. <br> **(5) dotenv** <br> ㆍ **환경 변수 관리 라이브러리**로, **.env** 파일에 저장된 환경 변수를 쉽게 불러와 **process.env**로 사용할 수 있게 해줍니다. <br> **(6) moment** <br> ㆍ **날짜 및 시간 처리 라이브러리**로, 날짜와 시간을 포맷하고 비교하거나 변환할 때 유용합니다. <br> **(7) multer** <br> ㆍ **파일 업로드 미들웨어**로, HTTP 요청으로 들어오는 파일을 처리하고 서버에 저장하는 데 유용합니다. <br> ![Utility Modules]() <br><br>    **7. API Documentation (swagger-ui-express / swagger-jsdoc)** <br> **(1) swagger-ui-express** <br> ㆍ **미들웨어**로, Swagger UI를 Express 애플리케이션에 통합하여 **API 문서를 웹 인터페이스로 제공**할 수 있게 해줍니다. 이를 통해 사용자가 API 엔드포인트와 파라미터 등을 쉽게 확인할 수 있습니다. <br> **(2) swagger-jsdoc** <br> ㆍ **문서 생성 라이브러리**로, 주석을 기반으로 자동으로 Swagger API 문서를 생성해 줍니다. 코드에 작성한 주석으로부터 API 정의를 추출하여 JSON 포맷으로 문서를 만들 수 있습니다. <br> ![API Documentation]() <br> *위 코드에서 /api-docs 경로로 접속하면 Swagger UI를 통해 자동으로 생성된 API 문서를 볼 수 있습니다.  이로써, API 문서를 자동으로 생성하고, 사용자 인터페이스를 통해 쉽게 API를 테스트할 수 있는 기능이 추가됩니다.* <br><br> *위 라이브러리/모듈/미들웨어들은 모두 npm install 을 사용하여 설치하고, package.json을 통해 관리되고 있습니다.* <br><br> **[ API 명세 ]** <br>**Auth ( 인증 API )**<br><br>**1. 아이디 중복확인**<br><br>**(1) Endpoint**<br>- **URL**: `/check_id`<br>- **Method**: `POST`<br>- **Description**: 아이디 중복 확인<br><br>**(2) Request**<br>- **Headers**: `Content-Type: application/json`<br>- **Body** (JSON):<br>    - `id` (string): 확인할 아이디<br><br>**(3) Responses**<br>- **200 OK**: 아이디 중복 확인 결과<br>    - **Response Body** (JSON): <br>![api(1)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(1).png?raw=true)<br>- **400 Bad Request**: 아이디 미입력<br>- **500 Internal Server Error**: 서버 오류<br><br>**2. 사용자 로그인**<br>**(1) Endpoint**<br>- **URL**: `/login_process`<br>- **Method**: `POST`<br>- **Description**: 사용자 로그인<br><br>**(2) Request**<br>- **Headers**: `Content-Type: application/json`<br>- **Body** (JSON):<br>    - `id` (string): 사용자 아이디<br>    - `pw` (string): 사용자 비밀번호<br><br>**(3) Responses**<br>- **200 OK**: 로그인 성공 여부 반환<br>    - **Response Body** (JSON): <br>![api(2)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(2).png?raw=true)<br>- **500 Internal Server Error**: 서버 오류<br><br>**3. 로그아웃**<br>**(1) Endpoint**<br>- **URL**: `/logout`<br>- **Method**: `POST`<br>- **Description**: 사용자 로그아웃 처리, 세션을 파기하고 로그아웃 후 쿠키 삭제<br><br>**(3) Responses**<br>- **200 OK**: 성공적으로 로그아웃되었거나 세션이 없음<br>    - **Response Body** (JSON): <br>![api(3)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(3).png?raw=true)<br>- **500 Internal Server Error**: 로그아웃 처리 중 오류 발생<br>    - **Response Body** (JSON): <br>![api(4)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(4).png?raw=true)<br><br>**4. 회원가입**<br>**(1) Endpoint**<br>- **URL**: `/register_process`<br>- **Method**: `POST`<br>- **Description**: 사용자 회원가입<br><br>**(2) Request**<br>- **Headers**: `Content-Type: multipart/form-data`<br>- **Body**:<br>    - `id` (string): 사용자 아이디<br>    - `pw` (string): 비밀번호<br>    - `pw2` (string): 비밀번호 확인<br>    - `username` (string): 사용자 이름<br>    - `email` (string): 이메일 주소<br>    - `phone_num` (string): 전화번호<br>    - `birth` (date): 생일<br>    - `gender` (string): 성별<br>    - `profileImage` (binary): 프로필 이미지 파일<br><br>**(3) Responses**<br>- **200 OK**: 회원가입 성공 여부 반환<br>    - **Response Body** (JSON): <br>![api(5)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(5).png?raw=true)<br>- **400 Bad Request**: 잘못된 요청 데이터<br>- **500 Internal Server Error**: 서버 오류<br><br>**5. 로그인 여부 확인**<br>**(1) Endpoint**<br>- **URL**: `/check_login`<br>- **Method**: `GET`<br>- **Description**: 로그인 상태 확인<br><br>**(2) Responses**<br>- **200 OK**: 로그인 상태 반환<br>    - **Response Body** (JSON):<br>       ![api(6)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(6).png?raw=true)<br>**UserInfo ( 사용자 정보 가져오는 API )**<br><br>**1. 아이디 찾기**<br>**(1) Endpoint**:<br>**URL**:`/get_id`<br>**Method**: `POST`<br>**Description**: 사용자 ID 찾기<br><br>**(2) Request Body**:<br>- `name` (string): 사용자 이름<br>- `phone_num` (string): 전화번호<br><br>**(3) Responses**:<br>- **200 OK**: 사용자 ID 반환<br>    ![api(7)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(7).png?raw=true)<br>- **401 Unauthorized**: 일치하는 사용자 없음<br>- **500 Internal Server Error**: 서버 오류<br><br>**2. password 재설정**<br>**(1) Endpoint**: `/reset_pw`<br>**Method**: `POST`<br>**Description**: 사용자 비밀번호 재설정<br><br>**(2) Request Body**:<br>- `id` (string): 사용자 ID<br>- `old_pw` (string): 현재 비밀번호<br>- `new_pw` (string): 새 비밀번호<br><br>**(3) Responses**:<br>- **200 OK**: 비밀번호 재설정 성공 여부 반환<br>    ![api(8)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(8).png?raw=true)<br>- **401 Unauthorized**: 일치하는 사용자 없음<br>- **500 Internal Server Error**: 서버 오류<br><br>**3. 사용자 정보 불러오기**<br>**(1) Endpoint**: `/get_user_info`<br>**Method**: `GET`<br>**Description**: 사용자 정보 조회<br><br>**(2) Responses**:<br>- **200 OK**: 사용자 정보 반환<br>    ![api(9)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(9).png?raw=true)<br>- **404 Not Found**: 사용자 정보를 찾을 수 없음<br>- **500 Internal Server Error**: 서버 오류<br><br>**4. 회원정보 수정**<br>**(1) Endpoint**: `/modify_info`<br>**Method**: `POST`<br>**Description**: 회원 정보 수정<br><br>**(2) Request Body**:<br>- `id` (string): 사용자 ID<br>- `pw` (string): 새로운 비밀번호<br>- `pw2` (string): 비밀번호 확인<br>- `username` (string): 사용자 이름<br>- `email` (string): 이메일<br>- `phone_num` (string): 전화번호<br>- `birth` (date): 생년월일<br>- `gender` (string): 성별<br>- `profileImage` (binary): 프로필 이미지<br><br>**(3) Responses**:<br>- **200 OK**: 회원 정보가 성공적으로 수정됨<br>    ![api(10)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(10).png?raw=true)<br>- **400 Bad  Request**: 요청 데이터가 잘못됨<br>- **500 Internal Server Error**: 서버 오류<br><br>**Autobiography (자서전 초기 작성 관련 API)**<br><br>**1. 자서전 작성 초기 데이터 저장 및 open AI 출력 저장**<br>**(1) Endpoint**<br>- **URL**: `/write_process/book_reading`<br>- **Method**: `POST`<br>- **Description**: 초기 입력 시, 사용자 입력을 저장하고, 사용자 입력에 대한 AI 모델 응답을 반환받아 저장함<br><br>**(2) Request**<br>- **Headers**: `Content-Type: application/json`<br>- **Body** (JSON):<br>    - `content` (string): 입력된 콘텐츠<br>    - `bookId` (string): 책 ID<br>    - `category` (string): 카테고리<br>    - `ischatbot` (boolean): 챗봇 여부 (예시: `true`)<br><br>**(3) Responses**<br>- **200 OK**: 자서전 내용이 성공적으로 저장됨<br>    - **Response Body** (JSON): <br>![api(11)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(11).png?raw=true)<br>- **400 Bad  Request**: 잘못된 요청 데이터<br>- **500 Internal Server Error**: 서버 오류<br><br>**2. 자서전 초기 입력 저장 ( 챗봇 )**<br><br>**(1) Endpoint**<br>- **URL**: `/write_process/chatbot`<br>- **Method**: `POST`<br>- **Description**: 초기 입력 시, 챗봇으로 추가할 때 사용자 입력을 임시로 저장함<br><br>**(2) Request**<br>- **Headers**: `Content-Type: application/json`<br>- **Body** (JSON):<br>    - `content` (string): 입력된 콘텐츠<br>    - `category` (string): 카테고리<br><br>**(3) Responses**<br>- **200 OK**: 자서전이 성공적으로 저장됨<br>    - **Response Body** (JSON): <br>![api(12)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(12).png?raw=true)<br>- **400 Bad  Request**: 잘못된 요청 데이터<br>- **500 Internal Server Error**: 서버 오류<br><br>**ChatBot ( 챗봇 생성 및 작동 관련 API )**<br><br>**1. 최초 input 값 가져오기- /write_process/chatbot 에서 저장**<br>**(1) Endpoint**<br>- **URL**: `/get-initial-input/{bookId}/{userId}`<br>- **Method**: `GET`<br>- **Description**: 특정 책과 사용자에 대한 초기 입력 가져오기<br><br>**(2) Path Parameters**<br>- `bookId` (string, required): 책 ID<br>- `userId` (string, required): 사용자 ID<br><br>**(3) Responses**<br>- **200 OK**: 초기 입력 내용을 반환<br>    - **Response Body** (JSON): <br>![api(13)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(13).png?raw=true)<br>- **404 Not Found**: 초기 입력을 찾을 수 없음<br>- **500 Internal Server Error**: 서버 오류<br><br>**2. 초기 사용자 input 기반으로 최초질문 생성**<br>**(1) Endpoint**<br>- **URL**: `/chatbot/initiate/{book_id}`<br>- **Method**: `POST`<br>- **Description**: 사용자 초기 입력을 기반으로 첫 질문 생성<br><br>**(2)Path Parameters**<<br>- `book_id` (string, required): 책 ID<br><br>**(3) Request**<br>- **Headers**: `Content-Type: application/json`<br>- **Body** (JSON):<br>    - `initialInput` (string): 초기 입력 값<br><br>**(4) Responses**<br>- **200 OK**: 첫 질문 생성 성공<br>    - **Response Body** (JSON): <br>![api(14)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(14).png?raw=true)<br>- **500 Internal Server Error**: 서버 오류<br><br>**3. 현재까지의 인풋 + 질의응답을 기준으로 동적인 질문 생성**<br>**(1) Endpoint**<br>- **URL**: `/chatbot/ask/{book_id}`<br>- **Method**: `POST`<br>- **Description**: 이전 질문과 사용자 입력을 바탕으로 새로운 질문 생성<br><br>**(2)Path Parameters**<br>- `book_id` (string, required): 책 ID<br><br>**(3) Request**<br>- **Headers**: `Content-Type: application/json`<br>- **Body** (JSON):<br>    - `userInput` (string): 사용자 입력<br>    - `previousQuestion` (string): 이전 질문<br><br>**(4) Responses**<br>- **200 OK**: 새로운 질문 생성 성공<br>    - **Response Body** (JSON)![api(15)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(15).png?raw=true)<br>- **500 Internal Server Error**: 서버 오류<br><br>**4. 사용자 인풋 + 챗봇 질의응답 데이터 요약 및 DB 업데이트**<br>**(1) Endpoint**<br>- **URL**: `/summary`<br>- **Method**: `POST`<br>- **Description**: 초기 입력시 챗봇 대화 내용을 요약하여 데이터베이스에 저장<br><br>**(2) Request**<br>- **Headers**: `Content-Type: application/json`<br>- **Body** (JSON):<br>    - `bookId` (string): 책 ID<br>    - `inputCount` (integer): 입력 카운트<br><br>**(3) Responses**<br>- **200 OK**: 요약 내용이 성공적으로 데이터베이스에 저장됨<br>    - **Response Body** (JSON): <br>![api(16)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(16).png?raw=true)<br>- **500 Internal Server Error**: 서버 오류 또는 OpenAI 요청 오류<br><br>**Autobiography_ADD (자서전 추가 작성 관련 API)**<br><br>**1. 추가작성_자서전 작성 초기 데이터 저장 및 open AI 출력 저장**<br><br>**(1) Endpoint**<br>- **URL**: `/write_process/book_reading2`<br>- **Method**: `POST`<br>- **Description**: 내용 추가 시 자서전 수정, 임시 저장 자서전 작성 시 사용자 입력을 저장하고, 사용자 입력에 대한 AI 모델 응답을 반환받아 저장함<br><br>**(2)Request**<<br>- **Headers**: `Content-Type: application/json`<br>- **Body** (JSON):<br>    - `content` (string): 입력된 콘텐츠<br>    - `bookId` (string): 책 ID<br>    - `category` (string): 카테고리<br>    - `isChatbot` (boolean): 챗봇 여부<br>    - `isChatbotPurified` (boolean): 정제 여부 (예시: `true`)<br><br>**(3) Responses**<br>- **200 OK**: 입력 및 응답이 성공적으로 저장됨<br>    - **Response Body** (JSON): <br>![api(17)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(17).png?raw=true)<br>- **400 Bad  Request**: 입력된 내용이 없는 경우<br>- **500 Internal Server Error**: DB 오류 또는 서버 오류<br><br>**2. 추가작성_ 자서전 초기 입력 저장 ( 챗봇 )**<br>**(1) Endpoint**<br>- **URL**: `/write_process/chatbot2`<br>- **Method**: `POST`<br>- **Description**: 내용 추가 시 자서전 수정을 위한 임시 저장 자서전 작성 시 사용자의 입력을 임시로 저장함<br><br>**(2) Request**<br>- **Headers**: `Content-Type: application/json`<br>- **Body** (JSON):<br>    - `content` (string): 입력된 콘텐츠<br>    - `bookId` (string): 책 ID<br>    - `category` (string): 카테고리<br><br>**(3) Responses**<br>- **200 OK**: 성공적으로 데이터가 저장됨<br>    - **Response Body** (JSON): <br>![api(18)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(18).png?raw=true)<br>- **400 Bad  Request**: 입력된 내용이 없는 경우<br>- **500 Internal Server Error**: DB 오류 또는 서버 오류<br><br>**Content ( 책 내용 수정 API )**<br><br>**1. 책 문단/소제목/제목 업데이트**<br>**(1) Endpoint**<br>- **URL**: `/update_content`<br>- **Method**: `POST`<br>- **Description**: 문단의 특정 내용을 업데이트<br><br>**(2) Request**<br>- **Headers**: `Content-Type: application/json`<br>- **Body** (JSON):<br>    - `bookId` (string): 책 ID<br>    - `inputCount` (integer): 입력 카운트<br>    - `content_order` (integer): 콘텐츠 순서<br>    - `content` (string): 업데이트할 내용<br>    - `chNum` (integer): 챕터 번호<br><br>**(3) Responses**<br>- **200 OK**: 내용이 성공적으로 업데이트됨<br>    - **Response Body** (JSON): <br>![api(19)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(19).png?raw=true)<br>- **400 Bad  Request**: 요청 데이터가 잘못됨<br>- **404 Not Found**: 해당하는 레코드가 없음<br>- **500 Internal Server Error**: 서버 오류<br><br>**2. AI를 이용한 문단 내용 재생성**<br>**(1) Endpoint**<br>- **URL**: `/recreate`<br>- **Method**: `POST`<br>- **Description**: 문단 내용을 OpenAI API를 이용해 재구성하고 DB 업데이트<br><br>**(2) Request**<br>- **Headers**: `Content-Type: application/json`<br>- **Body** (JSON):<br>    - `content` (string): 재구성할 콘텐츠<br>    - `bookId` (string): 책 ID<br>    - `content_order` (integer): 콘텐츠 순서<br><br>**(3) Responses**<br>- **200 OK**: 콘텐츠가 성공적으로 재구성되고 업데이트됨<br>    - **Response Body** (JSON): <br>![api(20)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(20).png?raw=true)<br>- **404 Not Found**: 지정된 조건에 맞는 콘텐츠를 찾을 수 없음<br>- **500 Internal Server Error**: 서버 오류 또는 콘텐츠 재구성 중 오류<br><br>**3. 문단 내용 및 소제목/제목 삭제**<br>**(1) Endpoint**<br>- **URL**: `/delete_content`<br>- **Method**: `POST`<br>- **Description**: 문단 삭제 또는 특정 필드를 NULL로 업데이트<br><br>**(2) Request**<br>- **Headers**: `Content-Type: application/json`<br>- **Body** (JSON):<br>    - `bookId` (string): 책 ID<br>    - `inputCount` (integer): 입력 카운트<br>    - `content_order` (integer): 콘텐츠 순서<br>    - `whatToChange` (integer): NULL로 업데이트할 필드 지정<br><br>**(3) Responses**<br>- **200 OK**: 문단 삭제 또는 업데이트 성공<br>    - **Response Body** (JSON): <br>![api(21)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(21).png?raw=true)<br>- **400 Bad  Request**: 요청 데이터가 유효하지 않음<br>- **500 Internal Server Error**: 데이터베이스 오류 또는 서버 오류<br><br>**4. 문단에 이미지 삽입**<br>**(1) Endpoint**<br>- **URL**: `/update_image`<br>- **Method**: `POST`<br>- **Description**: 문단의 이미지를 업데이트<br><br>**(2) Request**<br>- **Headers**: `Content-Type: multipart/form-data`<br>- **Body** (Form Data):<br>    - `bookId` (string): 책 ID<br>    - `inputCount` (integer): 입력 카운트<br>    - `content_order` (integer): 업데이트할 레코드의 content_order<br>    - `whatData` (integer): 데이터 타입 (1 - 업로드된 파일, 2 - AI 생성 이미지 정보, 3 - URL 리다이렉트)<br>    - `image` (binary, optional): 업로드할 이미지 파일 (whatData가 1일 때 필수)<br>    - `image_path` (string, optional): 새로 생성된 이미지 경로 (whatData가 2일 때 필수)<br><br>**(3) Responses**<br>- **200 OK**: 이미지가 성공적으로 업데이트됨<br>    - **Response Body** (JSON): <br>![api(22)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(22).png?raw=true)<br>- **302 Found**: 업데이트된 이미지 경로로 리다이렉트됨 (whatData가 3일 때)<br>    - **Response Body** (JSON): <br>![api(23)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(23).png?raw=true)<br>- **400 Bad  Request**: 요청 데이터가 잘못됨<br>- **404 Not Found**: 해당하는 레코드가 없음<br><br>**5. 문단 이미지 삭제**<br>**(1) Endpoint**<br>- **URL**: `/update_image`<br>- **Method**: `POST`<br>- **Description**: 문단의 이미지를 업데이트<br><br>**(2) Request**<br>- **Headers**: `Content-Type: multipart/form-data`<br>- **Body** (Form Data):<br>    - `bookId` (string): 책 ID<br>    - `inputCount` (integer): 입력 카운트<br>    - `content_order` (integer): 업데이트할 레코드의 content_order<br>    - `whatData` (integer): 데이터 타입 (1 - 업로드된 파일, 2 - AI 생성 이미지 정보, 3 - URL 리다이렉트)<br>    - `image` (binary, optional): 업로드할 이미지 파일 (whatData가 1일 때 필수)<br>    - `image_path` (string, optional): 새로 생성된 이미지 경로 (whatData가 2일 때 필수)<br><br>**(3) Responses**<br>- **200 OK**: 이미지가 성공적으로 업데이트됨<br>    - **Response Body** (JSON): <br>![api(24)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(24).png?raw=true)<br>- **302 Found**: 업데이트된 이미지 경로로 리다이렉트됨 (whatData가 3일 때)<br>    - **Response Body** (JSON): <br>![api(25)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(25).png?raw=true)<br>- **400 Bad  Request**: 요청 데이터가 잘못됨<br>- **404 Not Found**: 해당하는 레코드가 없음<br>- **500 Internal Server Error**: 서버 오류<br><br>**Category ( 카테고리 정보 관련 API )**<br><br>**1. 카테고리 정보 불러오기**<br>**(1) Endpoint**<br>- **URL**: `/get_category`<br>- **Method**: `GET`<br>- **Description**: 사용자의 카테고리 목록 가져오기<br><br>**(3) Responses**<br>- **200 OK**: 사용자의 카테고리 목록을 반환<br>    - **Response Body** (JSON): <br>![api(26)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(26).png?raw=true)<br>- **401 Unauthorized**: 로그인하지 않은 사용자<br>- **500 Internal Server Error**: 서버 오류<br><br>**2. 카테고리 삭제**<br>**(1) Endpoint**<br>- **URL**: `/delete_category`<br>- **Method**: `POST`<br>- **Description**: 사용자의 카테고리 삭제<br><br>**(2) Request**<br>- **Headers**: `Content-Type: application/json`<br>- **Body** (JSON):<br>    - `name` (string): 삭제할 카테고리 이름<br><br>**(3) Responses**<br>- **200 OK**: 카테고리가 성공적으로 삭제됨<br>    - **Response Body** (JSON): <br>![api(27)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(27).png?raw=true)<br>- **400 Bad  Request**: 잘못된 요청<br>- **401 Unauthorized**: 로그인하지 않은 사용자<br>- **500 Internal Server Error**: 서버 오류<br><br>**3. 카테고리 추가**<br>**(1) Endpoint**<br>- **URL**: `/add_category`<br>- **Method**: `POST`<br>- **Description**: 새로운 카테고리 추가<br><br>**(2) Request**<br>- **Headers**: `Content-Type: application/json`<br>- **Body** (JSON):<br>    - `name` (string): 추가할 카테고리 이름<br><br>**(3) Responses**<br>- **200 OK**: 카테고리가 성공적으로 추가됨<br>    - **Response Body** (JSON): <br>![api(28)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(28).png?raw=true)<br>- **400 Bad  Request**: 잘못된 요청<br>- **401 Unauthorized**: 로그인하지 않은 사용자<br>- **500 Internal Server Error**: 서버 오류<br><br>**4. 카테고리 업데이트**<br>**(1) Endpoint**<br>- **URL**: `/update_category`<br>- **Method**: `POST`<br>- **Description**: 존재하는 카테고리를 업데이트<br><br>**(2) Request**<br>- **Headers**: `Content-Type: application/json`<br>- **Body** (JSON):<br>    - `name` (string): 기존 카테고리 이름<br>    - `new_name` (string): 새로운 카테고리 이름<br>    - `bookId` (string): 책 ID<br>    - `inputCount` (integer): 입력 카운트<br>    - `content_order` (integer): 콘텐츠 순서<br>    - `category` (string): 카테고리<br><br>**(3) Responses**<br>- **200 OK**: 카테고리가 성공적으로 업데이트됨<br>    - **Response Body** (JSON): <br>![api(29)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(29).png?raw=true)<br>- **400 Bad  Request**: 요청 데이터가 잘못됨<br>- **401 Unauthorized**: 로그인하지 않은 사용자<br>- **404 Not Found**: 해당하는 레코드가 없음<br>- **500 Internal Server Error**: 서버 오류<br><br>**Image Upload / Create ( 이미지 업로드 / 생성 관련 API )**<br><br>**1. DALLE 모델을 이용하여 이미지 생성**<br>**(1) Endpoint**<br>- **URL**: `/create-image`<br>- **Method**: `POST`<br>- **Description**: DALL-E 모델을 이용해 이미지 생성<br><br>**(2) Request**<br>- **Headers**: `Content-Type: application/json`<br>- **Body** (JSON):<br>    - `prompt` (string): 이미지 생성에 사용할 프롬프트<br><br>**(3) Responses**<br>- **200 OK**: 이미지가 성공적으로 생성되어 저장됨<br>    - **Response Body** (JSON): <br>![api(30)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(30).png?raw=true)<br>- **400 Bad  Request**: 요청 프롬프트가 없을 경우 발생<br>- **500 Internal Server Error**: 이미지 생성 중 서버 오류 발생<br><br>**2. 생성된 이미지 DB 업로드 ( 이미지 파일로 저장된 경우 )**<br>**(1) Endpoint**<br>- **URL**: `/upload`<br>- **Method**: `POST`<br>- **Description**: 이미지 파일을 업로드하고 경로를 DB에 저장<br><br>**(2) Request**<br>- **Headers**: `Content-Type: multipart/form-data`<br>- **Body**:<br>    - `image` (binary): 업로드할 이미지 파일<br><br>**(3) Responses**<br>- **200 OK**: 이미지가 성공적으로 업로드되고 경로가 DB에 저장됨<br>    - **Response Body** (JSON): <br>![api(31)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(31).png?raw=true)<br>- **500 Internal Server Error**: DB 저장 오류 또는 서버 오류<br><br>**3.  생성된 이미지 DB 업로드 ( base64로 저장된 경우 )**<br>**(1) Endpoint**<br>- **URL**: `/upload_base64`<br>- **Method**: `POST`<br>- **Description**: base64 인코딩된 이미지 데이터를 업로드하고 저장<br><br>**(2) Request**<br>- **Headers**: `Content-Type: application/json`<br>- **Body** (JSON):<br>    - `image` (string): base64 인코딩된 이미지 데이터<br><br>**(3) Responses**<br>- **200 OK**: base64 이미지가 성공적으로 저장됨<br>    - **Response Body** (JSON): <br>![api(32)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(32).png?raw=true)<br>- **500 Internal Server Error**: 파일 저장 오류 또는 서버 오류<br><br>**Title ( 소제목/제목 추천 API )**<br>**(1) Endpoint**<br>- **URL**: `/recommend-title`<br>- **Method**: `POST`<br>- **Description**: OpenAI 모델을 이용하여 자서전 챕터의 소제목 추천<br><br>**(2) Request**<br>- **Headers**: `Content-Type: application/json`<br>- **Body** (JSON):<br>    - `content` (string): 콘텐츠 내용<br>    - `index` (integer): 인덱스 번호<br>    - `bookId` (string): 책 ID<br>    - `title` (boolean): 제목 여부<br><br>**(3) Responses**<br>- **200 OK**: 소제목이 성공적으로 업데이트됨<br>    - **Response Body** (JSON): <br>![api(33)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(33).png?raw=true)<br>- **400 Bad  Request**: 필수 데이터가 제공되지 않음<br>- **404 Not Found**: 해당 `book_id`와 `index`에 맞는 레코드가 없음<br>- **500 Internal Server Error**: 서버 오류 또는 모델 응답 생성 중 오류<br><br>**Semi-save ( 임시저장 API )**<br><br>**1. 현재 작업중인 파일을 임시저장 리스트 DB 에 저장**<br>**(1) Endpoint**<br>- **URL**: `/semi-save`<br>- **Method**: `POST`<br>- **Description**: 자서전 책 정보를 임시 저장하거나 기존의 임시 저장 내역 업데이트<br><br>**Reques**<br><br>- **Headers**: `Content-Type: application/json`<br>- **Body** (JSON):<br>    - `bookId` (string): 책 ID<br>    - `bookTitle` (string): 책 제목<br>    - `coverImg` (string): 커버 이미지<br><br>**(3) Responses**<br>- **200 OK**: 기존 레코드가 성공적으로 업데이트됨<br>    - **Response Body** (JSON): <br>![api(34)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(34).png?raw=true)<br>- **201 Created**: 새 레코드가 성공적으로 삽입됨<br>    - **Response Body** (JSON): <br>![api(35)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(35).png?raw=true)<br>- **500 Internal Server Error**: 서버 오류 또는 DB 오류<br><br>**2. 임시저장 리스트 DB 불러오기**<br>**(1) Endpoint**<br>- **URL**: `/saved-articles`<br>- **Method**: `GET`<br>- **Description**: 사용자의 모든 임시 저장된 자서전 책 정보 가져오기<br><br>**(3) Responses**<br>- **200 OK**: 임시 저장된 자서전 목록을 반환<br>    - **Response Body** (JSON): <br>![api(36)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(36).png?raw=true)<br>- **500 Internal Server Error**: 서버 오류 또는 DB 오류<br><br>**Book ( 전체 책 리스트 출력/수정 API )**<br><br>**1. 생성된 책 print / fetch 기능**<br>**(1) Endpoint**<br>- **URL**: `/print`<br>- **Method**: `POST`<br>- **Description**: 책의 콘텐츠를 조회하고, `final_input` 테이블에 데이터를 정리하여 저장<br><br>**(2) Request**<br>- **Headers**: `Content-Type: application/json`<br>- **Body** (JSON):<br>    - `book_id` (string): 책 ID<br>    - `input_count` (integer): 입력 카운트<br>    - `content_order` (integer): 콘텐츠 순서<br>    - `category` (string): 카테고리<br><br>**(3) Responses**<br>- **200 OK**: 콘텐츠가 성공적으로 조회되고 정리됨<br>    - **Response Body** (JSON): <br>![api(37)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(37).png?raw=true)<br>- **404 Not Found**: 지정된 조건에 맞는 콘텐츠를 찾을 수 없음<br>- **500 Internal Server Error**: 서버 오류<br><br>**2. 생성된 책 삭제**<br>**(1) Endpoint**<br>- **URL**: `/delete_book_list`<br>- **Method**: `POST`<br>- **Description**: 다수의 책 ID를 받아서 해당 책들을 삭제<br><br>**(2) Request**<br>- **Headers**: `Content-Type: application/json`<br>- **Body** (JSON):<br>    - `book_id` (array of strings): 삭제할 책 ID 리스트<br><br>**(3) Responses**<br>- **200 OK**: 선택한 책들이 성공적으로 삭제됨<br>    - **Response Body** (JSON): <br>![api(38)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(38).png?raw=true)<br>- **400 Bad  Request**: 요청 데이터가 유효하지 않음 (`book_id`가 배열이 아닌 경우)<br>- **404 Not Found**: 삭제할 책을 찾을 수 없음<br>- **500 Internal Server Error**: 데이터베이스 오류 또는 서버 오류<br><br>**3. 책 리스트 불러오기**<br>**(1) Endpoint**<br>- **URL**: `/get_books`<br>- **Method**: `GET`<br>- **Description**: 사용자의 책 목록 가져오기<br><br>**(3) Responses**<br>- **200 OK**: 사용자의 책 목록을 반환<br>    - **Response Body** (JSON): <br>![api(39)](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/2%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/api/api%20(39).png?raw=true)<br>- **401 Unauthorized**: 로그인하지 않은 사용자<br>- **500 Internal Server Error**: 데이터베이스 오류 또는 서버 오류<br> **AI 파인튜닝** <br> *AI 파인튜닝을 **GPT-4o-mini**로 **자서전 생성 AI, 챗봇, 소제목 생성 AI, 요약 생성 AI** 총 4가지를 위하여 진행하였으며, 아래에서는 파인튜닝을 하기 위해 사용한 **데이터**, 파인튜닝 모델을 사용하는 **예시**와 그 **결과**를 소개할 것이다.* <br><br> **1. 자서전 생성 AI** <br> **(1) 파인튜닝에 사용한 데이터 예시** <br> ![자서전 데이터]() <br> **(2) 파인튜닝 모델 사용 예시** <br> ![자서전 사용]() <br> **(3) 결과** <br> ㆍ **Input** : 내 이름은 김미현이야. 62살이 되었네. 인공지능 연구원으로 30년을 보냈지. 내 삶을 돌아보면, 참으로 복잡하고도 단순한 길을 걸어온 것 같아. 나는 늘 기술과 함께했고, 사람들보다는 기계와 데이터를 더 많이 대했지. 그래서인지, 혼자라는 게 전혀 낯설지 않더라고. <br> ㆍ **Output** : 내 이름은 김미현이다. 올해 62살이 되었고, 인공지능 연구원으로 30년을 보냈다. 잠시 내 삶을 돌아보면, 참으로 복잡하고도 단순한 길을 걸어온 것 같아. 대학을 갓 들어간 20살 때부터 지금까지 딱히 다른 분야로 옮겨간 적이 없으니 내 길이야말로 전생부터 예견된 길이 아니었을까 싶다. 나는 늘 기술과 함께했고, 사람들보다는 기계와 데이터를 더 많이 대했으니 내 인간관계도 아마 기술자들의 그것에 가깝지 않았을까 한다. 그래서인지, 혼자라는 게 전혀 낯설지 않더라고. <br><br> **2. 챗봇** <br> **(1) 파인튜닝에 사용한 데이터 예시** <br> ![챗봇 데이터]() <br> **(2) 파인튜닝 모델 사용 예시** <br> ![챗봇 사용]() <br> **(3) 결과** <br> ㆍ **Input** : 내 이름은 김미현이야. 62살이 되었네. 인공지능 연구원으로 30년을 보냈지. 내 삶을 돌아보면, 참으로 복잡하고도 단순한 길을 걸어온 것 같아. 나는 늘 기술과 함께했고, 사람들보다는 기계와 데이터를 더 많이 대했지. 그래서인지, 혼자라는 게 전혀 낯설지 않더라고. <br> ㆍ **Output** : 인공지능 연구원으로서 가장 기억에 남는 프로젝트는 무엇인가요? <br> !![챗봇예시]() <br><br> **3. 소제목 생성 AI** <br> **(1) 파인튜닝에 사용한 데이터 예시** <br> ![소제목 데이터]() <br> **(2) 파인튜닝 모델 사용 예시** <br> ![소제목 사용]() <br> **(3) 결과** <br> *입력해야 하는 내용이 많은 관계로 생략합니다. 더 알고 싶으시면 데모 영상을 참고해주세요.* <br><br> **4. 요약 생성 AI** <br> **(1) 파인튜닝에 사용한 데이터 예시** <br> ![요약 데이터]() <br> **(2) 파인튜닝 모델 사용 예시** <br> ![요약 사용]() <br> **(3) 결과** <br> ㆍ **Input** : Assistant : 김미현 씨의 인공지능 연구원으로서의 경력이 정말 인상적입니다. 귀하의 음성인식 시스템 개발과 제자 교육은 큰 성과였던 것 같습니다. 추가적으로, 인공지능 연구를 통해 어느 특정 기술이나 방법론이 가장 발전했다고 생각하시나요? User: 내.. 판단력? 인공지능이라는게 100퍼센트 들어맞는게 아니니까.. 아무래도 확률을 보고 밀어붙이는게 좀 필요했다고 생까해 <br> ㆍ **Output** : 나는 인공지능이 100% 들어맞지 않기 때문에 확률을 보고 밀어붙이는 것이 필요했다고 생각한다. <br><br><br> **전체 시스템 흐름**<br> *전체 시스템 흐름은 사용자가 서비스 이용 중에 확인할 수 있는 화면 위주로 정리하였다.* <br> **[ 로그인 및 회원가입 ]** <br> **1. 회원가입 페이지** <br> **(1) 화면** <br> ㆍ처음 방문한 사용자가 계정을 만들기 위해 필요한 정보를 입력합니다. <br> **(2) 입력 데이터** <br> ㆍ사용자 ID, 비밀번호, 이메일, 프로필 이미지 등 필수 정보. <br> **(3) 데이터 흐름** <br> ㆍ 사용자가 회원가입 정보를 입력하고 제출하면 프론트엔드에서 **/register_process API**를 호출합니다. 서버에서는 데이터 유효성을 검증한 후 **MySQL**의 **user_info** 테이블에 저장하고, 결과를 프론트엔드에 반환합니다. <br><br> **2. 로그인 페이지** <br> **(1) 화면** <br>ㆍ기존 사용자가 로그인할 때, ID와 비밀번호를 입력합니다. <br> **(2) 입력 데이터** <br>ㆍID와 비밀번호. <br> **(3) 데이터 흐름** <br> ㆍ프론트엔드가 **/login_process API**를 호출해 인증을 시도합니다. 서버는 **user_info** 테이블에서 ID와 비밀번호를 검증한 후, 성공 시 세션이 생성되어 프론트엔드로 반환됩니다. 이후 사용자 정보와 함께 자서전 작성 페이지로 이동합니다. <br><br> **[ 자서전 작성: 초기 입력 ]** <br> **1. 자서전 작성 초기 입력 화면** <br> **(1) 화면** <br>ㆍ로그인 후 자서전 생성을 위해 사용자에게 첫 번째 입력을 받는 화면입니다. 예를 들어, "당신의 어린 시절에 대해 이야기해 주세요"와 같은 질문에 대해 작성합니다. <br> **(2) 입력 데이터** <br> ㆍ사용자가 작성하는 초기 자서전 내용 (텍스트). <br> **(3) 데이터 흐름** <br> ㆍ 사용자가 첫 입력을 제출하면, 프론트엔드는 /write_process/book_reading API를 호출해 데이터를 서버로 보냅니다. <br> ㆍ 서버는 데이터베이스의 init_input 테이블에 초기 입력 내용을 저장하고, OpenAI 모델과 통신하여 입력 데이터를 기반으로 응답(예: 자서전 시작을 돕는 AI 생성 텍스트)을 생성해 반환합니다. <br> ㆍ 프론트엔드는 AI 응답을 받아 사용자가 입력한 내용과 함께 화면에 표시합니다. <br><br> **[ 자서전 작성: 챗봇 대화로 보충 ]** <br> **1. 챗봇과의 대화 흐름** <br> **(1) 화면** <br> ㆍ사용자가 더 깊은 자서전 작성을 위해 챗봇과 질문과 응답을 주고받는 화면입니다. <br> **(2) 입력 데이터** <br> ㆍ챗봇과의 대화 중 사용자가 입력하는 텍스트. <br> **(3) 데이터 흐름** <br> ㆍ프론트엔드가 사용자의 입력과 현재 질문을 /chatbot/ask/{book_id} API로 전송하면 서버는 이 데이터를 chatbot_data 테이블에 저장합니다. <br> ㆍAI 모델은 사용자의 입력을 분석하여 다음 질문을 생성하고, 이를 프론트엔드로 반환하여 사용자에게 표시합니다. <br> ㆍ이 과정은 사용자가 원하는 만큼 반복될 수 있으며, 대화가 끝나면 챗봇 대화 요약본이 서버에서 chatbot_summary 테이블에 저장됩니다. <br><br> **[ 내용 수정 및 이미지 추가 ]** <br> **1. 자서전 수정 화면** <br> **(1) 화면** <br> ㆍ사용자가 초기 입력 및 챗봇과 대화로 작성된 자서전 초안을 보며, 수정할 수 있는 화면입니다. 필요시 AI를 통해 문단을 재구성하거나, 이미지를 추가할 수 있습니다. <br> **(2) 입력 데이터** <br> ㆍ사용자가 수정한 텍스트 또는 추가할 이미지. <br> **(3) 데이터 흐름** <br> ㆍ 텍스트 수정 시: 수정된 텍스트를 /update_content API로 전송하면 서버는 final_input 테이블의 해당 내용을 업데이트합니다. <br> ㆍ 이미지 추가 시: 프론트엔드는 사용자가 업로드한 이미지를 /update_image API로 전송하고, 서버는 이미지 파일을 저장하고 경로를 데이터베이스에 업데이트합니다. <br>ㆍAI 재구성 요청 시: 사용자가 특정 문단을 AI로 재구성하도록 선택하면, 프론트엔드는 /recreate API를 호출해 OpenAI와 통신하고, 생성된 새로운 텍스트로 문단을 대체합니다. <br><br> **[ 임시 저장 및 최종 저장 ]** <br> **1. 임시 저장 기능** <br> **(1) 화면** <br> ㆍ자서전을 완성하기 전, 현재까지 작성된 내용을 임시로 저장할 수 있습니다. <br> **(2) 입력 데이터** <br> ㆍ자서전 제목, 커버 이미지, 현재 작성 중인 내용. <br> **(3) 데이터 흐름** <br> ㆍ 프론트엔드가 /semi-save API를 호출해 임시 저장 요청을 서버로 보내면, 서버는 book_list와 final_input 테이블에 현재 상태를 저장합니다. <br> ㆍ이후 임시 저장 목록 조회 시 /saved-articles API를 통해 모든 임시 저장된 항목을 불러와 프론트엔드에서 사용자에게 목록으로 보여줍니다. <br> **2. 자서전 확인 기능** <br> **(1) 화면** <br> ㆍ자서전 작성이 완료되면 최종 검토 후 저장하는 단계입니다.  <br> **(2) 입력 데이터** <br> ㆍ사용자가 최종적으로 작성한 자서전 내용, 책 제목, 커버 이미지 등.<br> **(3) 데이터 흐름** <br> ㆍ사용자가 최종 제출 버튼을 누르면 /print API를 호출해 자서전 최종본을 정리하여 real_book 및 book_list 테이블에 저장합니다. <br> ㆍ서버는 최종 내용을 확인한 후 final_input에 정리하여 저장하고, 프론트엔드는 자서전 보드 페이지로 이동하여 생성된 자서전을 사용자가 볼 수 있게 합니다. <br><br>   **[ 자서전 보드 및 관리 기능 ]** <br> **1. 자서전 보드 페이지** <br> **(1) 화면** <br> ㆍ사용자가 생성한 자서전을 목록 형식으로 확인할 수 있는 페이지입니다. 각 자서전은 제목, 생성일, 카테고리 등으로 구분됩니다.  <br> **(2) 데이터 흐름** <br> ㆍ /get_books API를 통해 사용자의 자서전 목록을 불러옵니다. 데이터는 book_list 테이블에서 가져오며, 각 항목은 자서전 제목과 요약 정보로 구성됩니다. <br> ㆍ사용자는 자서전 항목을 클릭하여 해당 자서전 세부 내용을 확인하거나, 임시 저장했던 내용을 수정할 수 있습니다.  <br> **2. 자서전 삭제 기능** <br> **(1) 화면** <br> ㆍ자서전 보드에서 삭제를 원하는 자서전을 선택하여 삭제 요청을 보낼 수 있습니다. <br> **(2) 데이터 흐름** <br> ㆍ/delete_book_list API를 호출하여 선택한 자서전 ID들을 서버로 전송합니다. 서버는 book_list와 real_book 테이블에서 해당 자서전을 삭제하고, 성공 메시지를 반환하여 프론트엔드에서 목록을 갱신합니다.                    |
| (4) 주요 기능의 구현 |*유북의 기능 중 주요 기능인 자서전 생성 기능과 자서전 확인, 수정, 표지 디자인 및 완성 기능을 위주로 구현한 방법에 대해 살펴볼것이다.* <br><br> **[ 자서전 생성 ]** <br> **1. 사용자 입력 및 초기 저장 (MainPage.js)** <br> **(1) 사용자 상호작용** <br> ㆍMainPage.js에서 사용자는 자신의 이야기를 직접 입력하거나, 챗봇과의 대화를 통해 더 깊이 있는 정보를 제공할 수 있습니다. <br>  **(2) API 요청** <br> ㆍ 사용자가 입력한 내용은 /write_process/book_reading API로 전달됩니다. <br> ㆍ요청 데이터: { user_id, book_id, category, content } <br> ㆍ설명: user_id는 사용자 고유 식별자, book_id는 현재 자서전의 고유 식별자, category는 자서전의 주제, content는 사용자가 입력한 텍스트입니다. <br> **(3) 백엔드 처리 (write_page.js):** <br>ㆍ데이터 저장: init_input 테이블에 { user_id, book_id, category, content }를 저장합니다. 각 입력 항목에는 input_count가 부여되어 여러 번의 입력이 구별되며, 이후 챗봇이나 AI 모델이 이를 참조하여 자연스럽게 연결된 내용을 생성할 수 있습니다. <br> **(4) 프론트엔드 업데이트**  <br> ㆍAPI 응답 후, MainPage.js는 “저장 완료” 메시지와 함께 현재 자서전 내용을 화면에 렌더링하여 사용자가 입력한 내용을 확인할 수 있게 합니다. <br><br> **2. 챗봇 상호작용을 통한 데이터 수집** <br> **(1) 사용자 상호작용** <br> ㆍ사용자가 챗봇을 통해 추가 질문을 받고 답변을 제공하여 자서전을 보완할 수 있습니다. <br>  **(2) API 요청** <br> ㆍ/chatbot/ask/{book_id} API가 호출됩니다. <br> ㆍ요청 데이터: { user_id, book_id, question, answer } <br> ㆍ설명: question은 챗봇이 제시한 질문, answer는 사용자가 응답한 내용입니다. <br> **(3) 백엔드 처리 (chatbotapi.js)** <br> ㆍ데이터 저장: init_input 테이블에 { user_id, book_id, category, content }를 저장합니다. 각 입력 항목에는 input_count가 부여되어 여러 번의 입력이 구별되며, 이후 챗봇이나 AI 모델이 이를 참조하여 자연스럽게 연결된 내용을 생성할 수 있습니다. <br> ㆍAI 처리: OpenAI GPT 모델을 호출해 사용자의 답변을 바탕으로 연관된 문장을 생성하여, 이를 final_input 테이블에 { user_id, book_id, generated_content } 형식으로 저장합니다. 이는 자서전의 초안 생성에 사용됩니다. <br> **(4) 프론트엔드 업데이트** <br> ㆍMainPage.js는 챗봇의 새 질문과 AI가 생성한 내용을 실시간으로 표시해, 사용자가 자서전의 흐름을 시각적으로 파악할 수 있게 합니다.<br><br> **[ 자서전 확인, 수정, 표지 디자인 및 완성 ]** <br> **1. 자서전 불러오기 및 확인 (BookPage.js)** <br>  **(1) 사용자 상호작용** <br> ㆍ자서전 초안이 완성된 후, 사용자는 **BookPage.js**에서 자서전을 불러와 전체 내용을 검토할 수 있습니다.<br>  **(2) API 요청** <br> ㆍ`/print` 엔드포인트를 통해 자서전의 모든 문단 내용과 이미지 경로 등을 가져옵니다. <br> ㆍ요청 데이터: `{ user_id, book_id }`<br>  **(3) 백엔드 처리 (print_book.js)**:<br> ㆍ데이터베이스 조회: `final_input` 테이블에서 `user_id`와 `book_id`를 기준으로 자서전의 제목, 문단 내용, 이미지 경로를 조회하여 반환합니다. <br>  **(4) API 응답** <br> ㆍ`{ title, paragraphs: [{ title, subtitle, content, image_path }], cover_image }`<br> ㆍ설명 : `title`은 자서전 제목, `paragraphs`는 각 문단의 제목, 소제목, 본문 내용, 이미지 경로가 포함된 배열이며, `cover_image`는 표지 이미지 경로입니다.<br>  **(5) 프론트엔드 업데이트** <br>ㆍBookPage.js는 API 응답을 받아 자서전의 제목과 전체 내용을 렌더링하여 사용자가 각 문단과 이미지를 검토할 수 있도록 합니다. <br><br> **2. 자서전 내용 수정 및 AI 추천 기능 (BookModifyPage.js)** <br>  **(1) 사용자 상호작용** <br>ㆍ사용자는 **BookModifyPage.js**에서 각 문단을 클릭하여 본문 내용, 문단 제목, 소제목, 이미지를 수정할 수 있습니다. <br>  **(2) API 요청** <br> ㆍ수정된 내용은`/update_content` API를 통해 백엔드에 전송됩니다. <br> ㆍ요청 데이터 : <br> `{ user_id, book_id, content_order, title, subtitle, content, image_path }`<br> ㆍ설명 : `content_order`는 문단의 순서, `title`과 `subtitle`은 각각 문단 제목과 소제목, `content`는 본문 내용, `image_path`는 문단에 추가된 이미지 경로입니다. <br> **(3) 백엔드 처리 (update_book_content.js)** <br>ㆍ데이터 업데이트 : `final_input` 테이블에서 `content_order`에 맞는 문단을 찾아 `title`, `subtitle`, `content`, `image_path`를 업데이트합니다. <br>  **(4) API 응답** <br>ㆍ`{ message: "Content updated successfully" }`<br>ㆍ설명 : 수정이 성공적으로 완료되었음을 알리는 메시지를 반환합니다.<br>  **(5) 프론트엔드 업데이트** <br>ㆍBookModifyPage.js는 최신 내용으로 업데이트된 자서전 내용을 실시간으로 반영하여, 사용자가 변경 사항을 즉시 확인할 수 있도록 합니다. <br><br> **3. AI 추천을 통한 문단 제목/소제목 및 이미지 생성** <br>   **(1) AI 추천 요청 (제목/이미지 생성)** <br>ㆍ사용자가 각 문단의 **문단 제목과 소제목**에 대한 AI 추천을 원하거나, 특정 이미지 삽입을 원할 경우, 각각 `/recommend_title` 또는 `/create-image` 엔드포인트를 호출합니다. <br> **(2) 문단 제목/소제목 추천**<br> ㆍAPI 요청 (recommend_title.js) : `{ user_id, book_id, content }`<br> ㆍ백엔드 처리 : OpenAI GPT 모델이 `content`를 바탕으로 적합한 문단 제목과 소제목을 생성하여 반환합니다.<br> ㆍAPI 응답 : `{ recommended_title, recommended_subtitle }`<br> **(3) 이미지 생성 요청** <br> ㆍAPI 요청 (create_image.js) : `{ user_id, prompt }`<br> ㆍ백엔드 처리 : DALL·E API를 호출하여 `prompt`에 맞는 이미지를 생성하고, 생성된 이미지를 `uploads` 폴더에 저장한 뒤 경로를 반환합니다.<br> ㆍAPI 응답 : `{ image_path }`<br>**(4) 프론트엔드 업데이트**<br> ㆍBookModifyPage.js는 추천된 제목과 소제목, 생성된 이미지를 실시간으로 반영하여, 사용자가 AI가 제공하는 제목 및 이미지를 확인하고 선택할 수 있도록 합니다. 추가된 이미지는 위치 조정 기능을 통해 사용자 맞춤형으로 배치할 수 있습니다. <br> **4. 표지 디자인 (BookDesignPage.js)** <br>  **(1) 사용자 상호작용** <br>ㆍ사용자는 **BookDesignPage.js**에서 자서전 표지를 자유롭게 디자인할 수 있습니다. <br>ㆍ표지에는 배경색, 텍스트 추가, 사용자 컴퓨터의 이미지 삽입 기능이 제공됩니다.<br> **2. 표지 수정 기능**<br> ㆍ사용자는 표지 텍스트와 배경색을 선택하고, 텍스트의 글씨 크기와 색상도 자유롭게 조정할 수 있습니다. <br> ㆍ컴퓨터에서 직접 이미지를 업로드하여 표지에 추가할 수도 있습니다.<br> **3. 프론트엔드 업데이트** <br> ㆍBookDesignPage.js는 사용자 선택에 따라 표지에 텍스트와 이미지를 배치하여 실시간으로 디자인을 확인할 수 있게 합니다. <br> ㆍ위치 조정 및 크기 조절 기능을 통해 사용자가 원하는 표지 디자인을 완성할 수 있습니다.|
| (5) 기타 | |
