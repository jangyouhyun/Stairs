# Team-Info

| 항목               | 내용                                                                                                                                  |
|:-------------------|:--------------------------------------------------------------------------------------------------------------------------------------|
| (1) 과제명         | YOU-BOOK : 간편한 자서전 제작을 위한 AI 기반 자서전 제작 웹서비스                                                                      |
| (2) 팀 번호 / 팀 이름 | 07-계단                                                                                                                              |
| (3) 팀 구성원       | 양다나(2276185) : 리더, AI <br> 안민지(2176205) : 팀원, 백엔드 <br> 장유현(2070066) : 팀원, 프론트엔드                                   |
| (4) 팀 지도교수     | 심재형                                                                                                                                |
| (5) 팀 멘토         | 이수화 / 코그넷나인 / 박사,전문위원                                                                                                    |
| (6) 과제 분류       | 산학과제                                                                                                                              |
| (7) 과제 키워드     | CV, NLP, AI, 데이터베이스                                                                                                             |
| (8) 과제 내용 요약  | YOU-BOOK은 사용자가 입력한 내용을 기반으로 AI를 활용해 자서전의 일부분을 대신 작성해주는 웹서비스입니다. <br> 챗봇이 자서전 작성을 위한 질문을 유도하고, 사용자의 답변도 자서전에 반영됩니다. 사용자는 글을 직접 수정하거나, 문단 위치, 글꼴, 글의 색상, 표지 등을 설정할 수 있습니다. |

# Project Summary

 *본 보고서는 YOU-BOOK의 **배경**을 **target customer**와 그들의 **pain points**를 통해 보이고, **기존 연구와의 비교**로 본 과제의 차별점과 **제안 내용** 및 **주요 기능 리스트**로 **solution**을 소개하여 **목표** 및 **필요성**을 소개하고자 한다.* 
| 항목             | 내용                                                                                                                               |  
|------------------|--------------------------------------------------------------------------------------------------------------------------------------|
| (1) 문제 정의     | *YOU-BOOK이라는 과제의 방향성을 잡기 위해 본 과제의 배경이 된 타겟 고객과, 그 고객이 현재 존재하는 서비스들을 사용하면서 겪을 문제점들을 정리하였다*<br><br> **[ Target Customer ]**  <br>타겟층은 자서전을 만들고 싶어하는 평범한 사람들이다. 이들은 자서전 제작을 희망하지만 방법의 불편함, 작문의 어려움, 금전적인 문제 등 다양한 문제로 자서전을 만들지 못하고 있는 상황이다. <br><br> **[ Pain Points ]**  <br> **1.** 작문 능력의 한계로 직접 **글 작성이 어려움** <br> **2.** 삽입할 만한 **사진 및 삽화 부족** <br> **3.** 대필 작가 고용 시 부담스러운 **비용** <br> **4.** 대필 작가 고용 시, 원하는 방향으로의 **수정 어려움** <br> **5.** 대신 작성해주는 서비스 이용시 사용자의 **참여도 저하** |
| (2) 기존연구와의 비교 | *기존 연구의 단점과 본 과제의 비교를 통하여 차별점을 보일 것이다.* <br><br> **[ 대필작가 고용 ]** <br> -장점 ) <br> 작가와 대화를 통해 원하는 방향으로 자서전 생성 가능, 원하는 작가 선택 가능 <br> -**단점 1)**  최소 100만원을 호가하는 **높은 금액** <br> **->** **보다 저렴한** 금액으로 서비스 사용 가능 *(낮은 제작 비용으로 낮은 서비스 이용 금액 예상)*<br>  -**단점 2)** 평균적으로 사용자에게 **2회의 수정 기회** 제공    <br> **->** 사용자가 원할 시 **제한 없이 수정 가능**<br><br> **[ 자서전 주문제작 플랫폼 ]** *(생각의 뜰, 리본북 등)* <br> - 장점 ) 사용자 자율성 증대, 접근성 좋음 <br> - **단점 1)** 30 페이지 이상의 분량을 **직접 작문**해야 함. <br> **->** **챗봇, 자서전 제작 기능**을 이용하여 작문에 도움을 받을 수 있음 |
| (3) 제안 내용     | *YOU-BOOK은 사용자가 자서전의 내용을 생성할 수 있도록 도와주는 기능 1과 기능 2, 기능 3으로 자서전의 완성도를 올리고 사용자의 자유도와 참여도를 올려 만족도를 올릴 수 있는 기능 4와 기능 5를 이용하여, 사용자가 원하는 자서전을 높은 완성도로 생성할 수 있게 해준다.* <br><br> **1. 챗봇 기능** : 챗봇과의 간단한 대화를 통해 사용자는 자신의 **자서전에 포함 시킬 내용들과 관련된 질문**들을 받아서 자서전 주제를 얻을 수 있다. 또, 사용자의 선택에 따라 그 내용을 자서전 제작에 사용할 수 있다. 위 기능으로, 자서전에 작성하고자 하는 내용의 선정에 어려움을 겪는 사람들의 어려움을 해결할 수 있다.  <br><br> **2. 자서전 제작 기능** : 간단한 내용들을 입력하면 자서전의 내용을 만들어주는 인공지능을 통하여 자유로운 작문이 어려운 사람들이 작문에 대한 부담감 없이 **더 정제된 자서전 텍스트**를 얻을 수 있다. <br><br> **3. 제목/소제목 추천 기능** : 자서전의 내용을 기반으로 챕터별로 생성된 **소제목을 추천**받을 수 있으며, 전체 내용을 기반으로 생성된 **자서전의 제목**도 추천받을 수 있다. <br> <br> **4. 이미지 생성 및 사진 추가 기능** : 자서전에 포함시키고 싶은 **사진을 직접 추가**할 수 있으며, 포함시킬 적절한 사진이 없을 경우 **원하는 이미지를 생성**하여 적재적소에 배치시킬 수 있다.<br>  <br> **5. 생성할 글의 내용 및 디자인 수정 기능** : 생성한 자서전의 내용을 사용자가 **자유롭게 수정**할 수 있고, **표지의 제목, 제목의 글씨체, 크기 위치, 색상 등을 선택**할 수 있다. 또, **표지**에도 삽화 생성 기능을 사용하여 표지에 넣을 이미지를 생성하여 포함시키거나, 원하는 사진을 추가시킬 수 있다. |
| (4) 기대효과 및 의의 | 주요 고객층이 사용하기 편리한 UX/UI 지원 <br> AI를 통한 텍스트 및 이미지 생성으로 자서전 제작 편의성 증대 <br> 자서전 제작을 통해 삶을 회고하고 긍정적으로 돌아볼 수 있는 기회 제공 |
| (5) 주요 기능 리스트 | *본 과제를 수행하기 위해 필요한 기능들과 각 기능에 사용된 기술을 정리했다.* <br><br> **1. 챗봇 기능 (OpenAI API)** <br>- openAI gpt4o-mini 의 chat API 를 사용하고, 사용자가 입력한 데이터를 기반으로 적절한 질문을 생성하도록 파인튜닝하해 자서전 생성에 필요한 데이터를 수집한다. 챗봇에서 대화한 데이터를 API 가 질문한 내용과 사용자의 답변을 구분하여, 최초에 입력한 데이터를 합쳐 요약 API 에 전달한다. <br><br> **2. 요약 기능(OpenAI API)** <br><br> - openAI gpt4o-mini 를 요약 기능을 가지도록 파인튜닝한 모델을 사용했으며, 학습시킬때 각 텍스트에 대해 포맷을 만들어서 학습시킨다.<br>- 챗봇과 대화한 데이터와, 최초에 입력한 데이터를 합쳐 요약해 자서전 생성 API 에 전달한다.<br>- 생성된 자서전 텍스트를 요약하여 DALL-E 3 API 에 전달하여 이미지를 생성한다.<br><br>**3. 자서전 내용 제작 기능 (OpenAI API)** <br>- openAI gpt4o-mini 를 이용하여 사용자가 입력한 정보로 서사를 생성할 수 있도록 파인튜닝했으며, 사용자가 입력할 수 있는 데이터 별로 답변 포맷을 만들어 학습시켰다.<br>- API 가 생성한 데이터를 개행 기준으로 구분하여 문단 단위로 출력하고 데이터베이스에 저장한다.<br><br> **4. 제목/소제목 추천 기능 (OpenAI API)** <br>- openAI gpt4o-mini 를 제목/소제목 추천 기능을 가지도록 파인튜닝한 모델을 사용해 문단의 내용을 기반으로 원하는 제목/소제목 포맷을 학습시킨다.<br><br> **5. 이미지 생성 기능 (OpenAI API)** <br> - DALL-E 3 를 이용하여 자서전에 삽입할 이미지 또는 요약된 자서전 텍스트와 사용자가 입력한 내용을 기반으로 이미지를 생성한다.<br><br>**6. 자서전 수정 기능 (HTML, CSS, JS)** <br> - HTML, CSS, JS를 사용해 사용자가 AI가 생성한 텍스트가 포함된 자서전을 제목/소제목/그림을 추가하거나 배치/내용을 수정할 수 있도록 구현했다. 또한, 사용자가 원한다면 글을 추가할 수 있도록 했다.<br>- 사용자는 표지에 배경색 변경, 텍스트 추가, 그림 추가를 통해 원하는 표지 디자인을 만들 수 있다.<br><br> **7. 자서전 보기 기능 (HTML, CSS, JS)** <br>- 생성 완료된 자서전 리스트를 마이페이지에서 그래픽으로 확인할 수 있다.<br>- 생성 완료된 자서전 표지를 클릭해, 기존에 생성한 자서전 텍스트를 확인할 수 있다. <br><br> **8. 데이터베이스 CRUD (Create, Read, Update, Delete) 기능 (MySQL)** <br>- 내부의 데이터에 대해서, 사용자의 조작에 따라 데이터가 생성 (CREATE) 되고, 수정시 (UPDATE) 되며 생성된 데이터를 읽고 (READ) 및 삭제할 수 있다.(DELETE).<br>- 내부에서 동적으로 데이터가 조작되어, 외래키 조건에 의해 관련된 데이터들이 자동으로 삭제되고, 업데이트된다. <br><br> |


# Project-Design

| 항목                | 내용                                                                                                                                                                                                                                                   |
|:--------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| (1) 요구사항 정의    | *우리 팀은 요구사항 정의서를 각 페이지 별로 나누어서 작성하였으며, 사용자가 이용할 수 있는 기능들을 주요 기능 중심으로 작성하였다.* <br>![요구사항 정의서](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/1%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/KakaoTalk_20241023_171824028.jpg)  <br>**1. 로그인** <br>- 사용자는 회원 가입 후 로그인 할 수 있다.<br>- 사용자가 로그인할 경우, ‘회원 정보 수정’을 통해 회원 가입 시 입력한 개인정보를 수정할 수 있다.<br>- 사용자는 ‘문의’ 기능을 사용해 서비스에 대해 관리자에게 문의할 수 있다.<br>- 관리자는 고객 관리로서 사용자에게 받은 문의사항에 대해 답변을 줄 수 있다. <br>**2. 자서전 제작**<br>- 사용자는 로그인할 시, 자서전을 제작할 수 있다.<br>- 사용자는 자서전을 직접 글을 입력해 만들고, ‘챗봇’ 기능을 사용해 챗봇과의 대화를 통해 생성한 글을 넣을 수 있다.<br>- 사용자는 자서전 내에 사용자가 소지하고 있는 이미지 파일 혹은 사용자가 입력한 내용을 바탕으로 AI가 생성해준 이미지를 삽입할 수 있다.<br>- 사용자가 만든 자서전의 표지를 문구나 이미지를 추가해 직접 만들 수 있다.<br>- 자서전 표지에 사용자가 소지하고 있는 이미지 파일 혹은 사용자가 입력한 내용을 바탕으로 AI가 생성해준 이미지를 삽입할 수 있다.<br>**3. 자서전 보기**<br>- 사용자는 로그인 할 시, 본인이 제작한 자서전을 볼 수 있다.<br>![요구사항 정의](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/1%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/IMG_2110.JPG.png) |
| (2) 전체 시스템 구성 |**< 전체 sw 설명 >** <br>ㆍ유북 서비스는 클라이언트, 서버, AI, DB, 챗봇으로 구성되어 있다.<br>ㆍ클라이언트는 사용자가 웹에서 서비스를 경험할 수 있게 하고, 서버는 AWS EC2 환경에서 모든 처리를 담당한다. AI는 데이터 분석과 맞춤형 콘텐츠 생성을 담당하며, DB는 사용자 정보와 콘텐츠를 안전하게 관리한다. 챗봇은 사용자와의 자연어 상호작용을 지원하여 서비스 접근성을 높인다. <br>ㆍ각 요소는 독립적으로 기능하면서도 상호 연결되어 효율적이고 확장 가능한 시스템을 제공한다. <br>  ![시스템 구성](https://github.com/jangyouhyun/Stairs/blob/main/%EB%B3%B4%EA%B3%A0%EC%84%9C/1%EC%B0%A8%EB%B3%B4%EA%B3%A0%EC%84%9C/%EC%9D%B4%EB%AF%B8%EC%A7%80/%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%82%E1%85%B3%E1%86%AB%20%E1%84%83%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A5%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%86%B7%20(2)%20(1)-%ED%8E%98%EC%9D%B4%EC%A7%80-1%20(2).jpg) <br> **< 구조도에 대한 설명 >** <br><br>**1. 클라이언트**<br>*React, HTML, CSS로 구성된 클라이언트는 사용자가 자서전을 작성하고 수정할 수 있는 웹 인터페이스를 제공합니다. 이 인터페이스는 React 컴포넌트를 사용해 유연하게 관리되며, 각 요소는 실시간으로 업데이트됩니다.* <br> **(1) 사용자 입력** <br>ㆍ사용자는 자서전의 각 장과 문단을 작성하며, 그 과정에서 React 컴포넌트를 통해 실시간으로 화면에 반영됩니다. 예를 들어, "나의 유년 시절"이라는 제목으로 시작하는 문단을 작성한 후, 사용자 입력이 즉시 페이지에 반영되어 사용자에게 확인됩니다.<br>ㆍ작성된 내용은 서버로 전송되어 MySQL 데이터베이스의 init_input 테이블에 저장됩니다. 각 자서전은 user_info 및 book_list 테이블을 통해 사용자 정보와 연결되며, 사용자는 언제든지 자서전을 불러와 수정할 수 있습니다.<br> **(2) 시각적 피드백** <br> ㆍTurn.js와 CSS가 함께 사용되어, 사용자가 책을 넘기는 듯한 시각적 효과를 경험할 수 있습니다. 예를 들어, 사용자가 한 문단을 작성한 후 "저장" 버튼을 누르면, 자서전의 페이지가 실제 책을 넘기는 것처럼 부드럽게 넘겨지면서 다음 페이지로 이동됩니다.<br>ㆍ이러한 시각적 효과는 자서전의 실제 책 같은 느낌을 강조하며, 사용자에게 몰입감을 제공합니다.<br> **(3) 버튼 및 UI 조작** <br> ㆍ자서전 생성, 수정, 저장, 삭제와 같은 작업은 useState와 useEffect를 사용해 효율적으로 관리됩니다. 사용자가 자서전을 작성하면, 해당 자서전의 상태는 자동으로 클라이언트 측에서 업데이트되고, 서버에 저장됩니다. 이때 book_list와 real_book 테이블에 각각 자서전의 제목 및 내용이 기록됩니다.<br> **(4) 파일 업로드 및 이미지 삽입** <br>ㆍ사용자는 특정 문단에 이미지를 삽입할 수 있습니다. 예를 들어, "내 가족과의 바닷가 여행"이라는 문단에 어울리는 이미지를 추가하려면, 사용자는 이미지 파일을 업로드한 후 해당 이미지를 자서전 문단에 삽입할 수 있습니다. 업로드된 이미지는 서버로 전송되어 MySQL 데이터베이스의 real_book 테이블에 이미지 경로와 함께 저장됩니다.<br><br> **2. 서버 (데이터 처리 및 API 관리)** <br>*Node.js 기반 서버는 클라이언트에서 보낸 요청을 처리하고, AI, DB, 챗봇과 연결됩니다. 서버는 RESTful API를 통해 클라이언트와 AI, 챗봇, DB 간의 통신을 처리합니다.* <br> **(1) 세션 관리** <br>ㆍ사용자가 로그인할 때 express-session을 통해 세션 ID가 생성되고, Redis에 저장됩니다. 예를 들어, 사용자가 로그인 후 자서전을 작성하는 동안에도 세션이 유지되어, 페이지를 새로 고침하거나 이동해도 로그인이 유지됩니다. 사용자의 정보는 user_info 테이블에서 관리됩니다.<br> **(2) API 호출 및 데이터 라우팅** <br> ㆍ서버는 사용자가 자서전 생성을 요청하면, 이 요청을 AI에게 전달합니다. AI는 데이터를 분석하여 자서전 텍스트를 생성하고, 그 결과는 다시 서버를 통해 클라이언트로 전송됩니다. <br>ㆍ예를 들어, 사용자가 "내 어린 시절"이라는 주제를 선택하고 몇 가지 정보를 입력하면, 서버는 이 데이터를 real_book 테이블에 저장하며, 동시에 AI에게 이 정보를 전달하여 자서전의 첫 문단을 생성하게 합니다.<br> **(3)자서전 데이터 저장 및 불러오기**<br> ㆍ자서전의 모든 데이터는 MySQL 데이터베이스에 저장됩니다. 사용자는 언제든지 자서전을 불러와 수정할 수 있으며, book_list와 real_book 테이블에서 필요한 데이터를 조회하여 클라이언트로 전송합니다. <br> ㆍ예를 들어, 사용자가 이미 작성한 자서전을 다시 열람하고 싶을 때, 서버는 book_list에서 자서전의 기본 정보를 불러오고, real_book에서 각 문단의 텍스트와 이미지를 불러옵니다.<br><br> **3. DB (MySQL 기반 데이터베이스)** <br> *MySQL 데이터베이스는 자서전의 모든 데이터를 저장하고 관리합니다. 사용자 정보는 user_info 테이블에 저장되며, 자서전 관련 데이터는 book_list와 real_book 테이블에 저장됩니다.* <br> **(1)데이터 저장 (CREATE)** <br>ㆍ자서전이 생성될 때, book_list 테이블에 자서전의 제목과 기본 정보가 저장되고, 각 문단과 이미지 정보는 real_book 테이블에 저장됩니다. 모든 데이터는 사용자 정보와 연결되며, 외래 키를 통해 관리됩니다.<br> **(2) 데이터 조회 (READ)** <br>ㆍ사용자가 자서전을 열람할 때는, 서버에서 book_list와 real_book 테이블을 조회하여 각 문단의 텍스트와 이미지를 불러옵니다. 예를 들어, 자서전의 3번째 문단을 불러오는 요청이 발생하면, 서버는 real_book 테이블에서 해당 문단의 텍스트와 이미지를 가져와 클라이언트에 전달합니다.<br> **(3)데이터 수정 (UPDATE)** <br>ㆍ사용자가 자서전을 수정하면, insert/updateContentRouter를 통해 수정된 내용이 real_book 테이블에 저장됩니다. 예를 들어, 사용자가 특정 문단을 수정하면 기존 데이터는 덮어씌워지지 않고, 수정 내역이 새로운 데이터로 기록됩니다. <br> **(4) 데이터 삭제 (DELETE)** <br>ㆍ사용자가 자서전을 삭제하면, book_list와 real_book 테이블의 관련 데이터가 삭제됩니다. 이 과정에서 중요한 데이터는 논리적으로 삭제되어 나중에 복구할 수 있습니다.  |
| (3) 진척도 및 검증내역 | **프론트엔드:** figma를 통해 디자인한 프로토타입을 바탕으로 react.js를 사용해 웹페이지를 제작했다. 현재까지 필수 기능을 포함한 웹페이지 초안은 전부 제작했으며 백과 연결 시 보이는 오류를 고치고 사용자가 보기 쉽도록 세부적인 디자인을 수정할 예정이다. (진척도: 80%) <br> **백엔드:** 검증내역 : 프로토타입을 바탕으로, 웹페이지와 통신하기 위한 API들을 제작하였다. 현재까지 기본적인 인증, 데이터베이스 관련 API 구축을 완료했으며 파인튜닝된 AI 를 연결하여 기능을 검수하였으며 추후에 보안 관련 이슈를 해결할 예정으로, 추가적인 클라우드 플랫폼을 활용하여 배포할 계획이다. (진척도: 80%) <br> **AI:** chatgpt api를 사용하고 파인 튜닝해 챗봇이 사용자가 입력한 글에 따라 글을 거짓 없이 생성하는지 테스트하는 과정을 거쳤다. (진척도: 90%) |
